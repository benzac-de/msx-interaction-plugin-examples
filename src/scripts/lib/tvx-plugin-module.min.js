/*
 * TVX Plugin v0.0.71 (Module)
 * (c) 2023 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define([],b)}else{if(typeof module=="object"&&module.exports){module.exports=b()}else{a.tvx=b()}}}(this,function(){var k={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.31",SUFFIX:null,DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",AFK_DELAY:8000,SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ID:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,LEAVE:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,SUSPEND:0,SECURE:0,APP:null};var l={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_CURSOR_OFF:"tvx-cursor-off",CLASS_IMMERSIVE:"tvx-immersive",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameborder='0' scrolling='no' allow='autoplay *;encrypted-media *;fullscreen *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var a=new function(){var O=/\\/g;var ab=/"/g;var Q=/'/g;var ax=/\n/g;var au=/\r/g;var M=/\r\n/g;var ar=/\t/g;var V=/\s/g;var Y=/-/g;var Z=/^[A-Za-z0-9._-]+$/;var aj=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var aq=/"(\\.|[^"\\])*"/g;var at=/^\s+|\s+$/g;var av=/^#?[A-Za-z0-9]+$/;var ac=/\s{0,}>\s{0,}/g;var ae=/\s{0,}\/>/g;var ad=/\s{0,}<\s{0,}/g;var ag=ax;var af=au;var ai=/\s{2,}/g;var I=/&/g;var U=ab;var N=Q;var aa=/</g;var S=/>/g;var am=/&quot;/g;var al=/&#39;/g;var ak=/&lt;/g;var ap=/&gt;/g;var ao=/&amp;/g;var J=/\+/g;var L=/\//g;var K=/=/g;var P=/[^A-Za-z0-9\+\/\=]/g;var R=Y;var ah=/_/g;var ay=/,/g;var W=/\./g;var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var X=window.location.protocol==="https:";var aw=function(az,aB){if(az&&aB){var aA=window.location.pathname;aA=aA.substring(0,aA.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+aA}else{if(az){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"
};var an=function(az){return az!=null?az.replace(O,"\\\\").replace(ab,'\\"').replace(ax,"\\n"):""};this.createVersion=function(aB){if(this.isFullStr(aB)){var aD=aB.split(".");if(aD.length==3){var aA=this.strToNum(aD[0],-1);var az=this.strToNum(aD[1],-1);var aC=this.strToNum(aD[2],-1);if(aA>=0&&az>=0&&aC>=0){return{major:aA,minor:az,patch:aC}}}}return null};this.checkVersion=function(aC,aB){var aA=this.createVersion(aB);if(aA!=null){var az=this.createVersion(aC);if(az!=null){if(az.major==aA.major){if(az.minor==aA.minor){return az.patch>=aA.patch}return az.minor>aA.minor}return az.major>aA.major}return false}return true};this.createKey=function(aD,aB){if(aD==null){aD=4}if(aB==null){aB=10}var aA="";for(var aC=0;aC<aD;aC++){var az=0;if(aB==0){az=Math.round(Math.random()*9)}else{if(aB==1){az=10+Math.round(Math.random()*51)}else{if(aB==2){az=10+Math.round(Math.random()*25)}else{if(aB==3){az=36+Math.round(Math.random()*25)}else{az=Math.round(Math.random()*61)}}}}if(az>=0&&az<=9){aA+=""+az}if(az>=10&&az<=35){aA+=String.fromCharCode(az+55)
}if(az>=36&&az<=61){aA+=String.fromCharCode(az+61)}}return aA};this.isFullStr=function(az){return az!=null&&typeof az=="string"&&az.length>0};this.isBool=function(az){if(az!=null&&typeof az=="boolean"){return true}return this.isFullStr(az)};this.isNum=function(az){if(az!=null&&typeof az=="number"){return true}return this.isFullStr(az)&&isFinite(az)};this.isArray=function(az){if(az!=null){return Array.isArray(az)}return false};this.isEmpty=function(aA){if(aA!=null){if(typeof aA=="string"){return aA.length==0}var az;for(az in aA){return false}}return true};this.isValid=function(aA,az){if(aA!=null){if(az===true){if(typeof aA=="string"){return aA.length>0}}return true}return false};this.isId=function(az){return this.isFullStr(az)&&Z.test(az)};this.isJson=function(az){return this.isFullStr(az)&&!aj.test(az.replace(aq,""))};this.isHttpUrl=function(az){return this.isFullStr(az)&&(az.indexOf("http://")==0||az.indexOf("https://")==0)};this.strValue=function(az){if(az!=null){if(typeof az=="string"){return az
}else{return""+az}}return null};this.strFullCheck=function(aA,az){return this.isFullStr(aA)?aA:az};this.strTrim=function(az){return this.isFullStr(az)?az.replace(at,""):""};this.strClear=function(az){return this.isFullStr(az)?az.replace(V,""):""};this.strFlatten=function(az){return this.isFullStr(az)?az.replace(ag," ").replace(af," ").replace(ai," "):""};this.strTruncate=function(az,aA){return this.isFullStr(az)&&aA>0&&az.length>aA?az.substr(0,aA)+"...":az};this.strShuffle=function(az){return this.isFullStr(az)?az.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(aA,aB,az){if(this.isFullStr(aA)&&this.isFullStr(aB)){return aA.replace(aB,function(){return az!=null?az:""})}return aA};this.strReplaceMap=function(aA,aB){if(this.isFullStr(aA)&&aB!=null){for(var az in aB){aA=this.strReplace(aA,az,aB[az])}}return aA};this.strToBool=function(aA,az){if(aA!=null&&typeof aA=="boolean"){return aA}return this.isFullStr(aA)?aA=="true":az};this.strToNum=function(aA,az){if(aA!=null&&typeof aA=="number"){return aA
}return this.isFullStr(aA)&&isFinite(aA)?aA*1:az};this.strToAction=function(az){return this.isFullStr(az)?az.toUpperCase().replace(Y,"_"):""};this.strToJsonStr=function(az){return this.isFullStr(az)?an(az):""};this.strToUrlStr=function(az){return this.isFullStr(az)?encodeURIComponent(az):""};this.strContainsToken=function(aB,aC,az,aD){if(this.isFullStr(aB)&&this.isFullStr(aC)){var aA=aB.indexOf(aC);if(az==null){az=0}if(aD==null){aD=aB.length}return aA>=az&&aA<aD}return false};this.strCountToken=function(aC,aD,aA,aE){var az=0;if(this.isFullStr(aC)&&this.isFullStr(aD)){var aB=0;if(aA!=null&&aA>=0){aB=aA}while(aB>=0&&aB<aC.length){aB=aC.indexOf(aD,aB);if(aB>=0){aB+=aD.length;if(aE==null||aB<aE){az++}}}}return az};this.htmlTrim=function(az){return this.isFullStr(az)?this.strTrim(az.replace(ac,">").replace(ae,"/>").replace(ad,"<").replace(ag," ").replace(af," ").replace(ai," ")):""};this.htmlEscape=function(az){return this.isFullStr(az)?az.replace(I,"&amp;").replace(U,"&quot;").replace(N,"&#39;").replace(aa,"&lt;").replace(S,"&gt;"):""
};this.htmlUnescape=function(az){return this.isFullStr(az)?az.replace(am,'"').replace(al,"'").replace(ak,"<").replace(ap,">").replace(ao,"&"):""};this.htmlAttrEscape=function(az){return this.isFullStr(az)?az.replace(U,"&quot;").replace(N,"&#39;"):""};this.htmlAttrUnescape=function(az){return this.isFullStr(az)?az.replace(am,'"').replace(al,"'"):""};this.htmlTextEscape=function(az){return this.isFullStr(az)?this.htmlEscape(az).replace(ax,l.COMMON.HTML.BREAK).replace(ar,l.COMMON.HTML.TAB):""};this.htmlCharacter=function(az){return this.isFullStr(az)&&av.test(az)?"&"+az+";":""};this.base64Encode=function(aH){var aC="";if(this.isFullStr(aH)){var aI,aD,aF;var aB,aG,aA,aE;var az=0;aH=this.utf8Encode(aH);while(az<aH.length){aI=aH.charCodeAt(az++);aD=aH.charCodeAt(az++);aF=aH.charCodeAt(az++);aB=aI>>2;aG=((aI&3)<<4)|(aD>>4);aA=((aD&15)<<2)|(aF>>6);aE=aF&63;if(isNaN(aD)){aA=aE=64}else{if(isNaN(aF)){aE=64}}aC+=T.charAt(aB)+T.charAt(aG)+T.charAt(aA)+T.charAt(aE)}}return aC};this.base64EncodeUrl=function(az){return this.isFullStr(az)?this.base64Encode(az).replace(J,"-").replace(L,"_").replace(K,","):""
};this.base64EncodeId=function(az){return this.isFullStr(az)?this.base64Encode(az).replace(J,"-").replace(L,"_").replace(K,"."):""};this.base64Decode=function(aH){var aC="";if(this.isFullStr(aH)){var aI,aD,aF;var aB,aG,aA,aE;var az=0;aH=aH.replace(P,"");while(az<aH.length){aB=T.indexOf(aH.charAt(az++));aG=T.indexOf(aH.charAt(az++));aA=T.indexOf(aH.charAt(az++));aE=T.indexOf(aH.charAt(az++));aI=(aB<<2)|(aG>>4);aD=((aG&15)<<4)|(aA>>2);aF=((aA&3)<<6)|aE;aC+=String.fromCharCode(aI);if(aA!=64){aC+=String.fromCharCode(aD)}if(aE!=64){aC+=String.fromCharCode(aF)}}}return this.utf8Decode(aC)};this.base64DecodeUrl=function(az){return this.isFullStr(az)?this.base64Decode(az.replace(R,"+").replace(ah,"/").replace(ay,"=")):""};this.base64DecodeId=function(az){return this.isFullStr(az)?this.base64Decode(az.replace(R,"+").replace(ah,"/").replace(W,"=")):""};this.utf8Encode=function(aC){var aA="";if(this.isFullStr(aC)){aC=aC.replace(M,"\n");for(var az=0;az<aC.length;az++){var aB=aC.charCodeAt(az);if(aB<128){aA+=String.fromCharCode(aB)
}else{if((aB>127)&&(aB<2048)){aA+=String.fromCharCode((aB>>6)|192);aA+=String.fromCharCode((aB&63)|128)}else{aA+=String.fromCharCode((aB>>12)|224);aA+=String.fromCharCode(((aB>>6)&63)|128);aA+=String.fromCharCode((aB&63)|128)}}}}return aA};this.utf8Decode=function(aD){var aA="";if(this.isFullStr(aD)){var aE=0;var aB,aC,aF,az;aB=aC=aF=az=0;while(aE<aD.length){aB=aD.charCodeAt(aE);if(aB<128){aA+=String.fromCharCode(aB);aE++}else{if((aB>191)&&(aB<224)){aF=aD.charCodeAt(aE+1);aA+=String.fromCharCode(((aB&31)<<6)|(aF&63));aE+=2}else{aF=aD.charCodeAt(aE+1);az=aD.charCodeAt(aE+2);aA+=String.fromCharCode(((aB&15)<<12)|((aF&63)<<6)|(az&63));aE+=3}}}}return aA};this.createHash=function(aB,aA){var az=0;if(this.isFullStr(aB)){if(aA===true){for(var aC=aB.length;aC>=0;aC--){az=((az<<5)-az)+aB.charCodeAt(aC);az&=az}}else{for(var aC=0;aC<aB.length;aC++){az=((az<<5)-az)+aB.charCodeAt(aC);az&=az}}}return az};this.serialize=function(az,aD){if(az===undefined){return null}if(az===null){if(aD!=null){return'"'+aD+'":null'
}else{return"null"}}var aE=null;var aB=typeof az;if(Array.isArray(az)){aE="[";var aC=0;for(var aG=0;aG<az.length;aG++){var aA=this.serialize(az[aG]);if(aA!=null){if(aC>0){aE+=","}aE+=aA;aC++}}aE+="]"}else{if(aB=="object"){aE="{";var aC=0;for(var aF in az){var aA=this.serialize(az[aF],aF);if(aA!=null){if(aC>0){aE+=","}aE+=aA;aC++}}aE+="}"}else{if(aB=="string"){aE='"'+an(az)+'"'}else{if(aB=="number"||aB=="boolean"){aE=""+az}}}}if(aE!=null){if(aD!=null){return'"'+aD+'":'+aE}else{return aE}}return null};this.deserialize=function(az){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(az)?JSON.parse(az):null}else{return this.isJson(az)?new Function("return "+az)():null}}catch(aA){return null}};this.isSecureContext=function(){return X};this.secureUrl=function(az){return this.isFullStr(az)?az.replace("http://","https://"):az};this.getPrefixUrl=function(az){return aw(false,false)+this.strFullCheck(az,"")};this.getHostUrl=function(az){return aw(true,false)+"/"+this.strFullCheck(az,"")
};this.getPathUrl=function(az){return aw(true,true)+"/"+this.strFullCheck(az,"")};this.getAbsoluteUrl=function(az){if(this.isFullStr(az)&&!this.isHttpUrl(az)){if(az.indexOf("/")==0){return aw(true,false)+az}else{return aw(true,true)+"/"+az}}return az};this.getRootPath=function(az,aD){if(this.isFullStr(az)){var aC=window.location.pathname;var aB=aC.indexOf(az);if(aB>0){var aA=aC.substr(0,aB);if(aD===true){if(aA.indexOf("/")==0){aA=aA.substr(1)}if(aA.lastIndexOf("/")==aA.length-1){aA=aA.substr(0,aA.length-1)}}else{if(aA.indexOf("/")!=0){aA="/"+aA}if(aA.lastIndexOf("/")!=aA.length-1){aA+="/"}}return aA}}return aD===true?"":"/"};this.exprEscape=function(aG,aF,aL,aM,aH,aK,aC){if(this.isFullStr(aG)&&typeof aM=="function"){if(this.isFullStr(aF)&&this.isFullStr(aL)&&typeof aH=="function"){if(aG.indexOf(aF)>=0&&aG.indexOf(aL)>=0){var az="";var aA=aF.length;var aE=aL.length;var aI=aG.length;var aJ=0;var aD=0;var aB=0;while(aD>=0){aD=aG.indexOf(aF,aJ);if(aD>=0){aB=aG.indexOf(aL,aD);if(aB>0){if(aJ<aD){az+=aM(aG.substring(aJ,aD),aC)
}if(aD+aA<aB){az+=aH(aG.substring(aD+aA,aB),aC)}aJ=aB+aE}else{aJ=aD;break}}}if(aJ<aI){az+=aM(aG.substring(aJ,aI),aC)}if(typeof aK=="function"){az+=aK(aC)}return az}}return aM(aG,aC)}return""}};var g=new function(){var N="h:mm/ampm";var S="h:mm:ss/ampm";var I="mm/dd/yy";var L="MM d, yyyy";var T="D mm/dd";var J="D mm/dd/yyyy";var P="DD, MM d, yyyy";var K=", ";var aa=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var U=["January","February","March","April","May","June","July","August","September","October","November","December"];var V=" AM";var ab=" PM";var X=" day";var W=" days";var Q=" hr";var O=" min";var M=" sec";var Y=function(ad){var af=ad%10;var ae=ad%100;if(af==1&&ae!=11){return"st"}if(af==2&&ae!=12){return"nd"}if(af==3&&ae!=13){return"rd"}return"th"};var ac=function(af,ag,ad){if(ag.length==ad){for(var ae=0;ae<ad;ae++){af[ae]=a.strTrim(ag[ae])
}}};this.applyDictionary=function(ah){if(ah!=null){N=ah.getValueForKey("format:time",N);S=ah.getValueForKey("format:long_time",S);I=ah.getValueForKey("format:date",I);L=ah.getValueForKey("format:long_date",L);T=ah.getValueForKey("format:day",T);J=ah.getValueForKey("format:long_day",J);P=ah.getValueForKey("format:full_day",P);K=ah.getValueForKey("format:separator",K);V=ah.getValueForKey("unit:am",V);ab=ah.getValueForKey("unit:pm",ab);X=ah.getValueForKey("unit:day",X);W=ah.getValueForKey("unit:days",W);Q=ah.getValueForKey("unit:hours",Q);O=ah.getValueForKey("unit:minutes",O);M=ah.getValueForKey("unit:seconds",M);var ag=ah.getValueForKey("list:day_names","").split(",");var ae=ah.getValueForKey("list:day_long_names","").split(",");var ad=ah.getValueForKey("list:month_names","").split(",");var af=ah.getValueForKey("list:month_long_names","").split(",");ac(aa,ag,aa.length);ac(R,ae,R.length);ac(Z,ad,Z.length);ac(U,af,U.length)}};this.getTimestamp=function(){return new Date().getTime()};this.getNow=function(){var ad=new Date();
if(k.DUMMY_DATE!=null){ad=new Date(k.DUMMY_DATE.getFullYear(),k.DUMMY_DATE.getMonth(),k.DUMMY_DATE.getDate(),ad.getHours(),ad.getMinutes(),ad.getSeconds())}if(k.TIME_OFFSET!=null&&k.TIME_OFFSET!=0){if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ad.getTime()+k.TIME_OFFSET+k.TIME_ZONE_OFFSET)}else{return new Date(ad.getTime()+k.TIME_OFFSET)}}else{if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ad.getTime()+k.TIME_ZONE_OFFSET)}}return ad};this.getFormatSeparator=function(){return K};this.getFormattedDateStr=function(au,ar,ad,ao,aq){var ag=0;var ah=0;var ap=0;var ai=0;var ak=0;if(au==null){au=new Date(ad,ao,aq)}if(typeof au=="number"){au=new Date(au)}ag=au.getDate();ah=au.getDay();ap=au.getMonth()+1;ai=au.getMonth();ak=au.getYear()+1900;var av=ar.replace("ddd",ag+Y(ag)).replace("dd",(ag<10?"0":"")+ag).replace("mm",((ap<10)?"0":"")+ap).replace("yyyy",ak).replace("d",ag).replace("m",ap).replace("yy",(""+ak).substring(2,4));var af=av.indexOf("D");var an=av.indexOf("DD");
var am=av.indexOf("M");var ae=av.indexOf("MM");if(an>=0&&am<0){return av.replace("DD",R[ah])}else{if(af>=0&&am<0){return av.replace("D",aa[ah])}else{if(ae>=0&&af<0){return av.replace("MM",U[ai])}else{if(am>=0&&af<0){return av.replace("M",Z[ai])}else{if(af>=0&&am>=0){var aj=null;var at=null;var al=null;if(an>=0){aj=av.substring(0,an);at=R[ah];al=av.substring(an+2,av.length)}else{if(af>=0){aj=av.substring(0,af);at=aa[ah];al=av.substring(af+1,av.length)}}if(af>am){if(aj.indexOf("MM")>=0){aj=aj.replace("MM",U[ai])}else{if(aj.indexOf("M")>=0){aj=aj.replace("M",Z[ai])}}}else{if(al.indexOf("MM")>=0){al=al.replace("MM",U[ai])}else{if(al.indexOf("M")>=0){al=al.replace("M",Z[ai])}}}return aj+at+al}}}}}return av};this.getDayStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,T,ae,ad,ag)};this.getDayLongStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,J,ae,ad,ag)};this.getDayFullStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,P,ae,ad,ag)};this.getDateStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,I,ae,ad,ag)
};this.getDateLongStr=function(af,ae,ad,ag){return this.getFormattedDateStr(af,L,ae,ad,ag)};this.getFormattedTimeStr=function(af,al,am,ag,ah){var ak=0;var ai=0;var ad=0;if(af==null){ak=am!=null?am*1:0;ai=ag!=null?ag*1:0;ad=ah!=null?ah*1:0}else{if(typeof af=="number"){af=new Date(af)}ak=af.getHours();ai=af.getMinutes();ad=af.getSeconds()}var aj=null;var ae=al.indexOf("/ampm");if(ae>0){al=al.substr(0,ae);aj=V;if(ak>12){aj=ab;ak-=12}}return al.replace("hh",(ak<10?"0":"")+ak).replace("mm",(ai<10?"0":"")+ai).replace("ss",(ad<10?"0":"")+ad).replace("h",ak).replace("m",ai).replace("s",ad)+(aj!=null?aj:"")};this.getTimeStr=function(af,ag,ad,ae){return this.getFormattedTimeStr(af,N,ag,ad,ae)};this.getTimeLongStr=function(af,ag,ad,ae){return this.getFormattedTimeStr(af,S,ag,ad,ae)};this.getRecordingStr=function(ad){if(typeof ad=="number"){ad=new Date(ad)}return this.getDayLongStr(ad)+K+this.getTimeStr(ad)};this.getFormattedDurationStr=function(ae,ah){var ad=Math.floor(ae/3600000);var ag=Math.floor((ae%3600000)/60000);
var af=Math.floor((ae%60000)/1000);ah=a.exprEscape(ah,"[","]",function(ai){return ai},function(ai){if(ai.indexOf("h")==0||ai.indexOf("H")==0){return ad>0?ai:""}else{if(ai.indexOf("m")==0||ai.indexOf("M")==0){return ad>0||ag>0?ai:""}else{if(ai.indexOf("s")==0||ai.indexOf("S")==0){return ad>0||ag>0||af>0?ai:""}}}});return ah.replace("H","h").replace("M",(ad>0?"mm":"m")).replace("S",(ad>0||ag>0?"ss":"s")).replace("hh",(ad<10?"0":"")+ad).replace("mm",((ag<10)?"0":"")+ag).replace("ss",((af<10)?"0":"")+af).replace("h",ad).replace("m",ag).replace("s",af)};this.getDurationStr=function(ai,au){if(au==null){au="dhms"}var at=au.indexOf("D")!=-1;var al=au.indexOf("H")!=-1;var ap=au.indexOf("M")!=-1;var ar=au.indexOf("S")!=-1;au=au.toLowerCase();var ao=au.indexOf("d")!=-1;var ag=au.indexOf("h")!=-1;var ad=au.indexOf("m")!=-1;var af=au.indexOf("s")!=-1;if(au.indexOf("~")==0){if(ai<60000){if(af){au="s"}}else{if(ai<3600000){if(ad){au="m"}else{if(af){au="s"}}}else{if(ai<86400000){if(ag){au="h"}else{if(ad){au="m"
}else{if(af){au="s"}}}}else{if(ao){au="d"}else{if(ag){au="h"}else{if(ad){au="m"}else{if(af){au="s"}}}}}}}}if(au=="d"){var am=Math.round(ai/86400000);return am==1?am+X:am+W}if(au=="h"){return Math.round(ai/3600000)+Q}if(au=="m"){return Math.round(ai/60000)+O}if(au=="s"){return Math.round(ai/1000)+M}var ah=ai;var aq=ag||ad||af;var am=ao?(aq?Math.floor(ah/86400000):Math.ceil(ah/86400000)):0;if(ao){ah=ai%86400000}aq=ad||af;var an=ag?(aq?Math.floor(ah/3600000):Math.ceil(ah/3600000)):0;if(ag){ah=ai%3600000}aq=af;var aj=ad?(aq?Math.floor(ah/60000):Math.ceil(ah/60000)):0;if(ad){ah=ai%60000}var ae=af?Math.floor(ah/1000):0;var ak="";if(ao&&(am>0||at)){ak+=am+(am==1?X:W)}if(ag&&(an>0||al)){if(ak.length>0){ak+=" "}ak+=an+Q}if(ad&&(aj>0||ap)){if(ak.length>0){ak+=" "}ak+=aj+O}if(af&&(ae>0||ar)){if(ak.length>0){ak+=" "}ak+=ae+M}if(af&&ak.length==0){return ae+M}if(ad&&ak.length==0){return aj+O}if(ag&&ak.length==0){return an+Q}return ak};this.getVideoStr=function(af,ag){if(ag==null){ag=3}var ae=ag>2?Math.floor(af/3600000):0;
var ah=ag>1?Math.floor((af%3600000)/60000):0;var ad=ag>0?Math.floor(af%60000/1000):0;if(ag>2){return(ae<10?"0":"")+ae+":"+(ah<10?"0":"")+ah+":"+(ad<10?"0":"")+ad}else{if(ag>1){return(ah<10?"0":"")+ah+":"+(ad<10?"0":"")+ad}else{if(ag>0){return(ad<10?"0":"")+ad}}}return""}};var F=new function(){this.toTimeStr=function(I){return g.getTimeStr(I)};this.toTimeLongStr=function(I){return g.getTimeLongStr(I)};this.toTimeDayStr=function(I){return g.getFormattedDateStr(I,"D")+g.getFormatSeparator()+g.getTimeStr(I)};this.toTimeDayLongStr=function(I){return g.getFormattedDateStr(I,"D")+g.getFormatSeparator()+g.getTimeLongStr(I)};this.toDayStr=function(I){return g.getDayStr(I)};this.toDayLongStr=function(I){return g.getDayLongStr(I)};this.toDayFullStr=function(I){return g.getDayFullStr(I)};this.toDateStr=function(I){return g.getDateStr(I)};this.toDateLongStr=function(I){return g.getDateLongStr(I)};this.toRecordingStr=function(I){return g.getRecordingStr(I)};this.toDayTimeStr=function(I){return g.getDayStr(I)+g.getFormatSeparator()+g.getTimeStr(I)
};this.toDayTimeLongStr=function(I){return g.getDayLongStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDayTimeFullStr=function(I){return g.getDayFullStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDateTimeStr=function(I){return g.getDateStr(I)+g.getFormatSeparator()+g.getTimeStr(I)};this.toDateTimeLongStr=function(I){return g.getDateLongStr(I)+g.getFormatSeparator()+g.getTimeStr(I)}};var D=new function(){this.foreach=function(N,J){if(N!=null&&N.properties!=null&&typeof J=="function"){var L=N.properties;if(Array.isArray(L)){for(var M=0;M<L.length;M++){var K=L[M];if(K!=null&&K.key!=null&&K.value!=null){if(J(K.key,K.value)===true){break}}}}else{for(var I in L){var K=L[I];if(K!=null){if(J(I,K)===true){break}}}}}};this.getValue=function(N,J,I){if(N!=null&&N.properties!=null&&a.isFullStr(J)){var L=N.properties;if(Array.isArray(L)){for(var M=0;M<L.length;M++){var K=L[M];if(K!=null&&K.key==J&&K.value!=null){return K.value}}}else{if(L[J]!=null){return L[J]}}}return I!=null?I:null};this.get=function(K,J,I){return a.strValue(this.getValue(K,J,I))
};this.getFullStr=function(K,J,I){return a.strFullCheck(this.getValue(K,J),I)};this.getNum=function(K,J,I){return a.strToNum(this.getValue(K,J),I)};this.getBool=function(K,J,I){return a.strToBool(this.getValue(K,J),I)};this.has=function(K,J,I){return a.isValid(this.getValue(K,J),I)};this.put=function(O,K,J){if(O!=null&&O.properties!=null&&a.isFullStr(K)&&J!=null){var M=O.properties;if(Array.isArray(M)){var I=false;for(var N=0;N<M.length;N++){var L=M[N];if(L!=null&&L.key==K){I=true;L.value=J;break}}if(!I){M.push({key:K,value:J})}}else{M[K]=J}}};this.remove=function(M,I){if(M!=null&&M.properties!=null&&a.isFullStr(I)){var K=M.properties;if(Array.isArray(K)){for(var L=0;L<K.length;L++){var J=K[L];if(J!=null&&J.key==I){J.value=null;break}}}else{K[I]=null}}};this.clear=function(I){if(I!=null&&I.properties!=null){I.properties={}}};this.count=function(J){var I=0;this.foreach(J,function(){I++});return I};this.extend=function(K,I){if(K!=null&&I!=null){if(K.properties!=null&&I.properties!=null){var J=this;
this.foreach(I,function(M,L){J.put(K,M,L)})}else{if(I.properties!=null){K.properties=I.properties}}}}};var y={STOPPED:1,PLAYING:2,PAUSED:3};var f={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,CONNECTION_UP:600,CONNECTION_DOWN:601,DEBUG:999,UNKNOWN:-1,actionToStr:function(I){switch(I){case this.LEFT:return"Left";case this.RIGHT:return"Right";case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";
case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";case this.VOLUME_DOWN:return"Volume-Down";case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";
case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.CONNECTION_UP:return"Connection-Up";case this.CONNECTION_DOWN:return"Connection-Down";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(J){var I=this[a.strToAction(J)];return I!=null?I:this.UNKNOWN},isNavigationAction:function(I){return I==this.LEFT||I==this.RIGHT||I==this.UP||I==this.DOWN||I==this.SCROLL_UP||I==this.SCROLL_DOWN||I==this.SWIPE_LEFT||I==this.SWIPE_RIGHT||I==this.SWIPE_UP||I==this.SWIPE_DOWN
},isBaseAction:function(I){return I==this.EXECUTE||I==this.BACK||this.isNavigationAction(I)},isVideoAction:function(I){return I==this.PLAY||I==this.PAUSE||I==this.STOP||I==this.TOGGLE_PLAY_PAUSE||I==this.FORWARD||I==this.REWIND||I==this.RESTART},isChannelAction:function(I){return I==this.CHANNEL_UP||I==this.CHANNEL_DOWN},isVolumeAction:function(I){return I==this.VOLUME_UP||I==this.VOLUME_DOWN||I==this.MUTE||I==this.UNMUTE||I==this.TOGGLE_MUTE},isNumberAction:function(I){return I==this.KEY_0||I==this.KEY_1||I==this.KEY_2||I==this.KEY_3||I==this.KEY_4||I==this.KEY_5||I==this.KEY_6||I==this.KEY_7||I==this.KEY_8||I==this.KEY_9},isColorAction:function(I){return I==this.RED||I==this.GREEN||I==this.YELLOW||I==this.BLUE},isSystemAction:function(I){return I==this.SYSTEM||I==this.CURSOR_ON||I==this.CURSOR_OFF||I==this.SLEEP||I==this.WAKE_UP||I==this.CONNECTION_UP||I==this.CONNECTION_DOWN}};function H(){var I="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(K,N,M){if(a.isFullStr(K)&&N!=null){var L=encodeURIComponent(N);
if(M!=null){var J=M;if(typeof M=="number"){J=new Date();J.setTime(J.getTime()+M)}if(typeof J.toGMTString=="function"){J=J.toGMTString()}L+=";expires="+J+";"}document.cookie=encodeURIComponent(K)+"="+L}};this.get=function(J,O){if(a.isFullStr(J)){var L=document.cookie.split(";");for(var N=0;N<L.length;N++){var K=L[N];var M=K.indexOf("=");if(M>0){if(J==decodeURIComponent(a.strTrim(K.substr(0,M)))){return decodeURIComponent(K.substr(M+1))}}}}return O!=null?O:null};this.getFullStr=function(J,K){return a.strFullCheck(this.get(J),K)};this.getNum=function(J,K){return a.strToNum(this.get(J),K)};this.getBool=function(J,K){return a.strToBool(this.get(J),K)};this.has=function(J,K){return a.isValid(this.get(J),K)};this.foreach=function(P){if(typeof P=="function"){var L=document.cookie.split(";");for(var N=0;N<L.length;N++){var K=L[N];var J=K.indexOf("=");if(J>0){var O=decodeURIComponent(a.strTrim(K.substr(0,J)));var M=decodeURIComponent(K.substr(J+1));if(P(O,M)===true){break}}}}};this.remove=function(J){if(a.isFullStr(J)){this.set(J,"",I)
}};this.clear=function(){var J=this;this.foreach(function(K){J.set(K,"",I)})}}function d(){var U="exp:";var T=false;var I=0;var X=null;var Q=null;var Z=new H();var ab=null;var W=function(){if(ab!=null){var ad=ab;ab=null;if(ad.length>0){for(var ac=0;ac<ad.length;ac++){ad[ac]()}}}};var L=function(ac){if(ab==null){ab=[]}ab.push(ac)};var K=function(){if(!T){T=true;W()}};var N=function(ac,ad){if(ad!=null){ad*=1;return ad>=0&&ad<ac}return false};var R=function(){if(I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.pull=="function"){TVXStorageService.pull(function(ad,ac){if(I==2){X=ad!=null?ad:{};if(ac!=null){z.logger.error("Pull storage data failed: "+ac)}K()}});return true}return false};var J=function(){if(T&&I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.push=="function"){TVXStorageService.push(X,function(ac){if(ac!=null){z.logger.error("Push storage data failed: "+ac)}});return true}return false};var P=function(){if(T&&I==2&&window.TVXStorageService!=null&&typeof TVXStorageService.clear=="function"){TVXStorageService.clear(function(ac){if(ac!=null){z.logger.error("Clear storage data failed: "+ac)
}});return true}return false};var M=function(){I=1;X={};Q=null;K()};var S=function(){I=2;X={};Q=null;return R()};var V=function(){I=3;X=null;var ac=true;try{Q=window.localStorage}catch(ad){z.logger.warn("Access to local storage failed: "+ad);ac=false}if(ac){K()}return ac};var aa=function(){I=4;X=null;Q=null;K()};var O=function(){var ae=[];var af=g.getTimestamp();if(X!=null){for(var ac in X){if(ac!=null&&ac.indexOf(U)==0){if(N(af,X[ac])){ae.push(ac.substr(U.length))}}}for(var ad=0;ad<ae.length;ad++){delete X[ae[ad]];delete X[U+ae[ad]]}}else{if(Q!=null){for(var ad=0;ad<Q.length;ad++){var ac=Q.key(ad);if(ac!=null&&ac.indexOf(U)==0){if(N(af,Q.getItem(ac))){ae.push(ac.substr(U.length))}}}for(var ad=0;ad<ae.length;ad++){Q.removeItem(ae[ad]);Q.removeItem(U+ae[ad])}}}};var Y=function(){if(!S()){if(!V()){M()}}};this.set=function(ac,af,ae){if(a.isFullStr(ac)&&af!=null){var ad=-1;if(ae!=null){if(typeof ae=="number"){ad=new Date().getTime()+ae}else{if(typeof ae=="string"){ad=new Date(ae).getTime()}else{if(typeof ae.getTime=="function"){ad=ae.getTime()
}}}}if(X!=null){X[ac]=af;if(ad>=0){X[U+ac]=ad}else{delete X[U+ac]}J()}else{if(Q!=null){Q.setItem(ac,af);if(ad>=0){Q.setItem(U+ac,ad)}else{Q.removeItem(U+ac)}}else{Z.set(ac,af,ae)}}}};this.get=function(ac,af){if(a.isFullStr(ac)){if(X!=null){var ae=false;var ad=X[U+ac];if(ad!=null){if(N(g.getTimestamp(),ad)){ae=true;delete X[ac];delete X[U+ac]}}if(!ae){var ag=X[ac];if(ag!=null){return ag}}}else{if(Q!=null){var ae=false;var ad=Q.getItem(U+ac);if(ad!=null){if(N(g.getTimestamp(),ad)){ae=true;Q.removeItem(ac);Q.removeItem(U+ac)}}if(!ae){var ag=Q.getItem(ac);if(ag!=null){return ag}}}else{return Z.get(ac,af)}}}return af!=null?af:null};this.getFullStr=function(ac,ad){return a.strFullCheck(this.get(ac),ad)};this.getNum=function(ac,ad){return a.strToNum(this.get(ac),ad)};this.getBool=function(ac,ad){return a.strToBool(this.get(ac),ad)};this.has=function(ac,ad){return a.isValid(this.get(ac),ad)};this.foreach=function(ae){if(typeof ae=="function"){if(X!=null){O();for(var ac in X){if(ac!=null&&ac.indexOf(U)!=0){if(ae(ac,X[ac])===true){break
}}}}else{if(Q!=null){O();for(var ad=0;ad<Q.length;ad++){var ac=Q.key(ad);if(ac!=null&&ac.indexOf(U)!=0){if(ae(ac,Q.getItem(ac))===true){break}}}}else{Z.foreach(ae)}}}};this.remove=function(ac){if(a.isFullStr(ac)){if(X!=null){delete X[ac];delete X[U+ac];J()}else{if(Q!=null){Q.removeItem(ac);Q.removeItem(U+ac)}else{Z.remove(ac)}}}};this.clear=function(){if(X!=null){X={};P()}else{if(Q!=null){Q.clear()}else{Z.clear()}}};this.getType=function(){if(X!=null){return I==2?"service":"cache"}else{if(Q!=null){return"storage"}}return"cookies"};this.setType=function(ac){T=false;if(ac=="cache"){M()}else{if(ac=="service"){if(!S()){M()}}else{if(ac=="storage"){if(!V()){M()}}else{if(ac=="cookies"){aa()}else{K()}}}}};this.isReady=function(){return T};this.onReady=function(ac){if(typeof ac=="function"){if(!T){L(ac)}else{ac()}}};Y()}function A(J){var I=null;this.set=function(K,L){if(a.isFullStr(K)&&L!=null){if(I==null){I={}}I[K]=L}};this.get=function(K,L){if(I!=null&&a.isFullStr(K)&&I[K]!=null){return I[K]}return L!=null?L:null
};this.getFullStr=function(K,L){return a.strFullCheck(this.get(K),L)};this.getNum=function(K,L){return a.strToNum(this.get(K),L)};this.getBool=function(K,L){return a.strToBool(this.get(K),L)};this.has=function(K,L){return a.isValid(this.get(K),L)};this.foreach=function(L){if(typeof L=="function"){if(I!=null){for(var K in I){if(L(K,I[K])===true){break}}}}};this.remove=function(K){if(I!=null&&a.isFullStr(K)){delete I[K]}};this.clear=function(){I={}};this.create=function(O){var N={};if(a.isFullStr(O)){var R=O.indexOf("?");if(R>=0){var M=O.substr(R+1).split("&");for(var K=0;K<M.length;K++){var P=M[K];if(a.isFullStr(P)){var L=P.indexOf("=");if(L>0){var Q=P.substr(0,L);var S=P.substr(L+1);N[decodeURIComponent(Q)]=decodeURIComponent(S)}else{N[decodeURIComponent(P)]=""}}}}}return N};this.build=function(N,M){var O=0;var K="";if(I!=null){for(var L in I){var P=a.strValue(I[L]);if(O>0){K+=(M!=null?M:"&")}if(a.isFullStr(P)){K+=(N===false?L:encodeURIComponent(L))+"="+(N===false?P:encodeURIComponent(P))
}else{K+=(N===false?L:encodeURIComponent(L))}O++}}return K};if(J!=null){I=this.create(J)}else{I=this.create(document.URL)}}function e(I,J){this.getValue=function(K){if(a.isFullStr(K)){if(I!=null&&I[K]!=null){return I[K]}if(J!=null&&J[K]!=null){return J[K]}}return null};this.get=function(K){return a.strValue(this.getValue(K))};this.getFullStr=function(K){return a.strFullCheck(this.get(K),null)};this.getNum=function(K){return a.strToNum(this.getValue(K),0)};this.getBool=function(K){return a.strToBool(this.getValue(K),false)};this.has=function(K,L){return a.isValid(this.get(K),L)}}function h(){var I={};this.hasObserver=function(J){return a.isFullStr(J)&&I[J]!=null};this.hasObservers=function(){var J;for(J in I){return true}return false};this.addObserver=function(J,K){if(a.isFullStr(J)&&typeof K=="function"){I[J]=K}};this.removeObserver=function(J){if(a.isFullStr(J)){delete I[J]}};this.onEvent=function(J,K){if(a.isFullStr(J)){if(typeof K=="function"){this.addObserver(J,K)}else{this.removeObserver(J)
}}};this.notifyObserver=function(J,K){if(a.isFullStr(J)&&I[J]!=null){I[J](K)}};this.notifyObservers=function(K){for(var J in I){I[J](K)}};this.clear=function(){I={}}}function G(){var I={};this.hasObserver=function(K,J){return a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null&&I[K][J]!=null};this.hasObservers=function(K){if(a.isFullStr(K)&&I[K]!=null){var J;for(J in I[K]){return true}}return false};this.addObserver=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)&&typeof L=="function"){if(I[K]==null){I[K]={}}I[K][J]=L}};this.removeObserver=function(K,J){if(a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null){delete I[K][J];if(!this.hasObservers(K)){delete I[K]}}};this.onEvent=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)){if(typeof L=="function"){this.addObserver(K,J,L)}else{this.removeObserver(K,J)}}};this.notifyObserver=function(K,J,L){if(a.isFullStr(K)&&a.isFullStr(J)&&I[K]!=null&&I[K][J]!=null){I[K][J](L)}};this.notifyObservers=function(K,L){if(a.isFullStr(K)&&I[K]!=null){for(var J in I[K]){I[K][J](L)
}}};this.clear=function(J){if(a.isFullStr(J)){if(I[J]!=null){I[J]={}}}else{I={}}}}function w(){var J=null;var K=[];var I=null;var L=false;this.delegate=null;this.execute=function(){if(J!=null){clearTimeout(J);J=null}if(I!=null){if(typeof I.action=="function"){I.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(I.action)}}I=null;this.process()}};this.process=function(){if(I==null&&K.length>0){I=K.shift();if(I.action==="stop"&&I.delay==null){L=true;I=null}else{if(I.delay!=null&&I.delay>0){var M=this;J=setTimeout(function(){J=null;M.execute()},I.delay)}else{this.execute()}}}};this.reset=function(){K=[];I=null;L=false;if(J!=null){clearTimeout(J);J=null}};this.push=function(M,N){if(M!=null){if(M==="reset"&&N==null){this.reset()}else{if(M==="execute"&&N==null){this.execute()}else{if(M==="clear"&&N==null){K=[]}else{if(M==="continue"&&N==null){L=false}else{K.push({action:M,delay:N})}}}}if(!L){this.process()}}};this.isBusy=function(){return J!=null
}}function c(I,M){var K=null;var L=[];var J=0;this.size=I!=null?I:0;this.delay=M!=null?M:0;this.work=function(){if(K==null&&this.delay>0){var N=this;K=setTimeout(function(){K=null;J=0;N.process()},this.delay)}};this.process=function(){if(K==null&&L.length>0){if(J<this.size||this.size<=0||this.delay<=0){J++;var N=L.shift();N();this.process()}else{this.work()}}};this.reset=function(){L=[];J=0;if(K!=null){clearTimeout(K);K=null}};this.execute=function(N){if(typeof N=="function"){L.push(N);this.process()}};this.isBusy=function(){return K!=null}}function n(L){var K=null;var J=null;var I=false;this.delay=L!=null?L:0;this.start=function(M){var N=this;I=false;this.stop();J=M;if(this.delay>0){K=setTimeout(function(){N.finish()},this.delay)}else{N.finish()}};this.restart=function(){this.start(J)};this.stop=function(){if(K!=null){clearTimeout(K);K=null}};this.finish=function(){this.stop();if(!I){I=true;if(typeof J=="function"){J()}}};this.isBusy=function(){return K!=null}}function C(){var K=300;var L=0;
var I=0;var J=null;this.click=function(M){var N=g.getTimestamp();if(J===M&&L>0&&N-L<=K){I++}else{I=1}J=M;L=N;return I}}function j(){var I="application/json";var N="application/xml";var K="text/plain";var Q="text/html";var P="application/x-www-form-urlencoded";var L=function(T){var S=null;try{S=new XMLHttpRequest()}catch(R){if(T!=null&&typeof T.error=="function"){T.error("Create XML HTTP request failed: "+R)}}return S};var O=function(R){if(R!=null&&typeof R.destroy=="function"){R.destroy()}};var M=function(V,W,T){var R=V.responseText;var U=true;if(R!=null){if(T==I){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(a.isFullStr(R)){R=JSON.parse(R)}else{U=false;if(W!=null&&typeof W.error=="function"){W.error("Validate JSON failed")}}}else{if(a.isJson(R)){R=new Function("return "+R)()}else{U=false;if(W!=null&&typeof W.error=="function"){W.error("Validate JSON failed")}}}}catch(S){U=false;if(W!=null&&typeof W.error=="function"){W.error("Create JSON failed: "+S)}}}else{if(T==N){R=V.responseXML
}}}if(U&&W!=null&&typeof W.success=="function"){W.success(R)}};var J=function(X,U,W,ae,R){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(X,U,W,ae,R)===true){return}var aa=L(ae);if(aa!=null){var ab=I;var V=false;var ac=false;var S=true;var ad=null;if(R!=null){V=R.isForm===true;ac=R.withCredentials===true;S=R.accurateHeaders!==false;ad=R.headers;if(R.dataType!=null){if(R.dataType=="json"){ab=I}else{if(R.dataType=="xml"){ab=N}else{if(R.dataType=="text"){ab=K}else{if(R.dataType=="html"){ab=Q}else{ab=null}}}}}}try{if(ac){aa.withCredentials=true}aa.open(X,U,true)}catch(Z){O(aa);aa=null;if(ae!=null&&typeof ae.error=="function"){ae.error("Open connection failed: "+Z)}}if(aa!=null){aa.onreadystatechange=function(){if(aa!=null){if(aa.readyState==4){if((aa.status>=200&&aa.status<300)||(aa.status==0&&a.isFullStr(aa.responseText))){M(aa,ae,ab)}else{if(ae!=null&&typeof ae.error=="function"){var af=a.strValue(aa.status);if(a.isFullStr(aa.statusText)){af+=" "+aa.statusText
}ae.error("Server responded with status: "+af)}}O(aa);aa=null}}};if(ab!=null){if(W!=null){aa.setRequestHeader("Content-Type",!V&&S?ab:P)}if(S){aa.setRequestHeader("Accept",ab)}}if(ad!=null){for(var Y in ad){var T=ad[Y];if(T!=null){aa.setRequestHeader(a.strValue(Y),a.strValue(T))}}}try{aa.send(W)}catch(Z){O(aa);aa=null;if(ae!=null&&typeof ae.error=="function"){ae.error("Send data failed: "+Z)}}}}};this.get=function(R,T,S){J("GET",R,null,T,S)};this.post=function(S,U,R,T){J("POST",S,U,R,T)};this.put=function(S,U,R,T){J("PUT",S,U,R,T)};this.del=function(R,T,S){J("DELETE",R,null,T,S)}}var r={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function u(){var O=[];var K=null;this.level=r.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var M=function(){var P=new Date();var W=P.getHours();var V=P.getMinutes();var T=P.getSeconds();var S=P.getMilliseconds();var R=P.getDate();var U=P.getMonth()+1;var Q=P.getFullYear();return Q+"-"+((U<10)?"0":"")+U+"-"+((R<10)?"0":"")+R+" "+((W<10)?"0":"")+W+":"+((V<10)?"0":"")+V+":"+((T<10)?"0":"")+T+"."+((S<10)?"00":((S<100)?"0":""))+S
};var L=function(Q,P){var R="";switch(Q){case r.DEBUG:R=l.LOGGER.CSS.CLASS_DEBUG;break;case r.INFO:R=l.LOGGER.CSS.CLASS_INFO;break;case r.WARN:R=l.LOGGER.CSS.CLASS_WARN;break;case r.ERROR:R=l.LOGGER.CSS.CLASS_ERROR;break}return a.strReplace(l.LOGGER.HTML.LINE.replace("{LEVEL}",R),"{MESSAGE}",a.htmlEscape(P))};var J=function(Q,P){var R="";switch(Q){case r.DEBUG:R="DEBUG";break;case r.INFO:R="INFO";break;case r.WARN:R="WARNING";break;case r.ERROR:R="ERROR";break}return M()+" "+R+": "+P};var I=function(R,Q,S,P){if(S>0&&Q.length>S){Q=Q.substr(0,S)+"..."}O.push(L(R,Q));if(P>0){while(O.length>P){O.shift()}}};var N=function(Q,P){if(window.console!=null){switch(Q){case r.DEBUG:console.log(P);break;case r.INFO:console.info(P);break;case r.WARN:console.warn(P);break;case r.ERROR:console.error(P);break}}};this.registerControl=function(P,Q){K=P;if(Q!==false){this.print()}};this.unregisterControl=function(P){if(K==P){K=null}};this.print=function(){if(K!=null&&O.length>0){var Q="";for(var P=0;P<O.length;
P++){Q+=O[P]+l.COMMON.HTML.BREAK}K.html(Q)}};this.clear=function(){O=[];this.print()};this.log=function(Q,P){if(Q<=this.level){var R=-1;switch(Q){case r.DEBUG:R=this.maxDebugLength;break;case r.INFO:R=this.maxInfoLength;break;case r.WARN:R=this.maxWarnLength;break;case r.ERROR:R=this.maxErrorLength;break}N(Q,P);I(Q,J(Q,P),R,this.maxLines);this.print()}};this.debug=function(P){this.log(r.DEBUG,P)};this.info=function(P){this.log(r.INFO,P)};this.warn=function(P){this.log(r.WARN,P)};this.error=function(P){this.log(r.ERROR,P)}}function p(){var L=null;var O=null;var N=0;var Q=null;var M=false;var K={};var P=function(R,S){K[R]=S;if(M){S()}};var I=function(R){delete K[R]};var J=function(){for(var R in K){K[R]()}};this.onReady=function(R,S){if(a.isFullStr(R)){if(typeof S=="function"){P(R,S)}else{I(R)}}};this.init=function(R){M=true;L=a.strFullCheck(R!=null?R.name:null,null);O=a.strFullCheck(R!=null?R.version:null,null);N=0;Q={};D.foreach(R,function(T,S){if(a.isFullStr(T)&&a.isFullStr(S)){Q[T]=S;
N++}});J()};this.getName=function(){return L};this.getVersion=function(){return O};this.getSize=function(){return N};this.isInitialized=function(){return M};this.getValueForKey=function(S,R){if(Q!=null&&a.isFullStr(S)&&Q[S]!=null){return Q[S]}return R};this.getValueForExpr=function(S){if(a.isFullStr(S)){var R=S.indexOf("|");if(R>0){return this.getValueForKey(S.substr(0,R),S.substr(R+1))}else{return this.getValueForKey(S,"")}}return""};this.getData=function(){return{name:L,version:O,size:N,properties:Q}}}function i(){var K=null;var L={};var J=null;var I=null;this.delay=0;this.now=g.getNow();this.format="time";this.isRunning=function(){return K!=null};this.hasHook=function(M){return a.isFullStr(M)&&L[M]!=null};this.hasHooks=function(){var M;for(M in L){return true}return false};this.hasControl=function(){return J!=null};this.clearHooks=function(){L={}};this.addHook=function(M,N){if(a.isFullStr(M)&&typeof N=="function"){L[M]=N}};this.removeHook=function(M){if(a.isFullStr(M)){delete L[M]}};
this.onTick=function(M,N){if(a.isFullStr(M)){if(typeof N=="function"){this.addHook(M,N)}else{this.removeHook(M)}}};this.registerControl=function(M){J=M};this.unregisterControl=function(M){if(J==M){J=null}};this.update=function(){if(J!=null){var M=null;switch(this.format){case"full":M=F.toDayTimeFullStr(this.now);break;case"date":M=F.toDayTimeLongStr(this.now);break;case"day":M=F.toTimeDayStr(this.now);break;case"time":M=F.toTimeStr(this.now);break;default:M="";break}if(J.clockText!=M){J.clockText=M;J.html(M)}}};this.validate=function(){this.now=g.getNow()};this.process=function(){if(K!=null){this.validate();this.delay=I!=null?this.now.getTime()-I.getTime():0;I=this.now;this.update();for(var M in L){L[M](this)}}};this.start=function(){if(K==null){var M=this;I=null;K=setInterval(function(){M.process()},1000)}};this.stop=function(){if(K!=null){clearInterval(K);K=null;I=null}}}function t(){var I={};this.load=function(K,J,M,L){if(a.isFullStr(K)){if(J!=null&&I[J]!=null&&I[J].url==K&&I[J].data!=null){if(M!=null&&typeof M.success=="function"){M.success(I[J].data,true)
}}else{z.ajax.get(K,{success:function(N){if(J!=null){I[J]={url:K,data:N}}if(M!=null&&typeof M.success=="function"){M.success(N,false)}},error:function(N){if(J!=null){I[J]={url:K,data:null}}if(M!=null&&typeof M.error=="function"){M.error(N)}}},L)}}};this.clearCache=function(J){if(J!=null){I[J]=null}};this.clear=function(){I={}}}var z={logger:new u(),cookies:new H(),storage:new d(),urlParams:new A(),ajax:new j(),loader:new t()};function B(){var U={};var N={};var R={};var O={};var Q=function(W){if(W!=null&&W.response!=null){return a.strToNum(W.response.status,0)}return 0};var V=function(W){if(W!=null&&W.response!=null){return W.response.data}return null};var L=function(X){var W="";if(X!=null&&X.response!=null){if(a.isNum(X.response.status)){W+=""+X.response.status}if(a.isFullStr(X.response.text)){if(W.length>0){W+=" "}W+=X.response.text}if(a.isFullStr(X.response.message)){if(W.length>0){W+=": "}W+=X.response.message}}return W.length>0?W:"Unknown error"};var T=function(W,X){R[W]=X;for(var Y in U){if(U[Y]!=null){X(U[Y])
}}};var I=function(W){delete R[W]};var K=function(W){for(var X in R){R[X](W)}};var M=function(W,X){if(W!=null&&typeof X=="function"){O[W]=X;for(var Y in N){if(N[Y]!=null){X(N[Y])}}}};var S=function(W){if(W!=null){delete O[W]}};var J=function(W){for(var X in O){O[X](W)}};var P=function(W){return W!=null&&W.indexOf("temp:")!=0};this.onReady=function(W,X){if(a.isFullStr(W)){if(typeof X=="function"){T(W,X)}else{I(W)}}};this.onError=function(W,X){if(a.isFullStr(W)){if(typeof X=="function"){M(W,X)}else{S(W)}}};this.onCompleted=function(W,X){this.onReady(W,X);this.onError(W,X)};this.foreachEntry=function(X){if(typeof X=="function"){for(var W in U){if(U[W]!=null){if(X(U[W])===true){break}}}}};this.foreachError=function(X){if(typeof X=="function"){for(var W in N){if(N[W]!=null){if(X(N[W])===true){break}}}}};this.getData=function(W){return W!=null&&U[W]!=null?U[W].data:null};this.getEntry=function(W){return W!=null?U[W]:null};this.setEntry=function(X,W){if(X!=null&&W!=null){U[X]=W;N[X]=null;K(W)}};
this.getError=function(W){return W!=null?N[W]:null};this.setError=function(W,X){if(W!=null&&X!=null){U[W]=null;N[W]=X;J(X)}};this.shouldStoreData=function(W){return P(W)};this.createData=function(W,X){return X};this.putData=function(X,Z,W,Y){if(X!=null&&Z!=null){z.ajax.put(X,Z,{success:function(aa){if(aa.response!=null&&aa.response.status==200){if(W!=null&&typeof W.success=="function"){W.success(aa.response.data)}}else{if(W!=null&&typeof W.error=="function"){W.error(L(aa),Q(aa),V(aa))}}},error:function(aa){if(W!=null&&typeof W.error=="function"){W.error(aa,0,null)}}},Y)}};this.postData=function(X,Z,W,Y){if(X!=null&&Z!=null){z.ajax.post(X,Z,{success:function(aa){if(aa.response!=null&&aa.response.status==200){if(W!=null&&typeof W.success=="function"){W.success(aa.response.data)}}else{if(W!=null&&typeof W.error=="function"){W.error(L(aa),Q(aa),V(aa))}}},error:function(aa){if(W!=null&&typeof W.error=="function"){W.error(aa,0,null)}}},Y)}};this.deleteData=function(W,Y,X){if(W!=null){z.ajax.del(W,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(Y!=null&&typeof Y.success=="function"){Y.success(Z.response.data)
}}else{if(Y!=null&&typeof Y.error=="function"){Y.error(L(Z),Q(Z),V(Z))}}},error:function(Z){if(Y!=null&&typeof Y.error=="function"){Y.error(Z,0,null)}}},X)}};this.loadData=function(Z,X,aa,Y){if(Z!=null){var W=this;if(P(Z)){this.clearData(Z)}if(X!=null){z.ajax.get(X,{success:function(ae){var ad=false;if(ae.response!=null&&ae.response.status==200&&ae.response.data!=null){ad=true;ae=ae.response.data}if(!ad&&ae.response!=null){var ab={id:Z,error:L(ae),status:Q(ae),reason:V(ae)};var ac=true;if(aa!=null&&typeof aa.error=="function"){ac=aa.error(ab)}if(ac!==false&&P(Z)){W.setError(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}else{var ab={id:Z,data:W.createData(Z,ae)};var ac=true;if(aa!=null&&typeof aa.success=="function"){ac=aa.success(ab)}if(ac!==false&&P(Z)){W.setEntry(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}},error:function(ad){var ab={id:Z,error:ad,status:0,reason:null};var ac=true;if(aa!=null&&typeof aa.error=="function"){ac=aa.error(ab)
}if(ac!==false&&P(Z)){W.setError(Z,ab)}if(aa!=null&&typeof aa.completed=="function"){aa.completed(ab)}}},Y)}}};this.clearData=function(W){if(W!=null){U[W]=null;N[W]=null}};this.clear=function(){U={};N={}}}function q(){var N={};var Q={};var X={};var J={};var I=function(aa){if(aa!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(aa)}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(aa)}}}catch(Z){z.logger.error("Create blob URL failed: "+Z)}}return null};var T=function(Z){if(Z!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(Z)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(Z)}}}catch(aa){z.logger.error("Dispose blob URL failed: "+aa)}}};var Y=function(ab){var aa=null;try{aa=new XMLHttpRequest()}catch(Z){if(ab!=null&&typeof ab.error=="function"){ab.error("Create XML HTTP request failed: "+Z)
}}return aa};var P=function(Z){if(Z!=null&&typeof Z.destroy=="function"){Z.destroy()}};var S=function(Z,aa){if(Z.response!=null){if(aa!=null&&typeof aa.success=="function"){aa.success(Z.response)}}else{if(aa!=null&&typeof aa.error=="function"){aa.error("Load blob failed: Response is missing")}}};var K=function(ad,ab,ac,aj,Z){var ag=Y(aj);if(ag!=null){var ah=false;var ai=null;if(Z!=null){ah=Z.withCredentials===true;ai=Z.headers}try{if(ah){ag.withCredentials=true}ag.responseType="blob";ag.open(ad,ab,true)}catch(af){P(ag);ag=null;if(aj!=null&&typeof aj.error=="function"){aj.error("Open connection failed: "+af)}}if(ag!=null){ag.onreadystatechange=function(){if(ag!=null){if(ag.readyState==4){if(ag.status>=200&&ag.status<300){S(ag,aj)}else{if(aj!=null&&typeof aj.error=="function"){var ak=a.strValue(ag.status);if(a.isFullStr(ag.statusText)){ak+=" "+ag.statusText}aj.error("Server responded with status: "+ak)}}P(ag);ag=null}}};if(ai!=null){for(var ae in ai){var aa=ai[ae];if(aa!=null){ag.setRequestHeader(a.strValue(ae),a.strValue(aa))
}}}try{ag.send(ac)}catch(af){P(ag);ag=null;if(aj!=null&&typeof aj.error=="function"){aj.error("Send data failed: "+af)}}}}};var M=function(Z,aa,ae,ac,af,ab,ad){if(ae!=null){Z.clearBlob(ae);if(ac!=null){K(aa,ac,af,{success:function(ah){var ag={id:ae,blob:ah,url:I(ah)};if(ab!=null&&typeof ab.success=="function"){ab.success(ag)}Z.setEntry(ae,ag);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ag)}},error:function(ah){var ag={id:ae,error:ah,status:0,reason:null};if(ab!=null&&typeof ab.error=="function"){ab.error(ag)}Z.setError(ae,ag);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ag)}}},ad)}}};var L=function(Z,aa){X[Z]=aa;for(var ab in N){if(N[ab]!=null){aa(N[ab])}}};var O=function(Z){delete X[Z]};var R=function(Z){for(var aa in X){X[aa](Z)}};var V=function(Z,aa){if(Z!=null&&typeof aa=="function"){J[Z]=aa;for(var ab in Q){if(Q[ab]!=null){aa(Q[ab])}}}};var U=function(Z){if(Z!=null){delete J[Z]}};var W=function(Z){for(var aa in J){J[aa](Z)}};this.onReady=function(Z,aa){if(a.isFullStr(Z)){if(typeof aa=="function"){L(Z,aa)
}else{O(Z)}}};this.onError=function(Z,aa){if(a.isFullStr(Z)){if(typeof aa=="function"){V(Z,aa)}else{U(Z)}}};this.onCompleted=function(Z,aa){this.onReady(Z,aa);this.onError(Z,aa)};this.foreachEntry=function(aa){if(typeof aa=="function"){for(var Z in N){if(N[Z]!=null){if(aa(N[Z])===true){break}}}}};this.foreachError=function(aa){if(typeof aa=="function"){for(var Z in Q){if(Q[Z]!=null){if(aa(Q[Z])===true){break}}}}};this.getBlob=function(Z){return Z!=null&&N[Z]!=null?N[Z].blob:null};this.getUrl=function(Z){return Z!=null&&N[Z]!=null?N[Z].url:null};this.getEntry=function(Z){return Z!=null?N[Z]:null};this.setEntry=function(aa,Z){if(aa!=null&&Z!=null){T(N[aa]!=null?N[aa].url:null);N[aa]=Z;Q[aa]=null;R(Z)}};this.getError=function(Z){return Z!=null?Q[Z]:null};this.setError=function(Z,aa){if(Z!=null&&aa!=null){T(N[Z]!=null?N[Z].url:null);N[Z]=null;Q[Z]=aa;W(aa)}};this.executeBlob=function(ac,aa,ad,Z,ab){M(this,"POST",ac,aa,ad,Z,ab)};this.loadBlob=function(ab,Z,ac,aa){M(this,"GET",ab,Z,null,ac,aa)
};this.clearBlob=function(Z){if(Z!=null){T(N[Z]!=null?N[Z].url:null);N[Z]=null;Q[Z]=null}};this.clear=function(){for(var Z in N){T(N[Z]!=null?N[Z].url:null)}N={};Q={}}}function v(N){var K="srq";var J=0;var I={};var O=0;this.timeout=N!=null?N:30000;var L=function(P,S){J++;O++;var R=K+J+"_"+g.getTimestamp();var Q={timeout:new n(P),callback:S};I[R]=Q;Q.timeout.start(function(){M(R,null,"Request timed out","timeout")});return R};var M=function(S,T,P,Q){if(S!=null){var R=I[S];if(R!=null){O--;R.timeout.stop();delete I[S];if(P!=null){if(R.callback!=null&&typeof R.callback.error=="function"){R.callback.error(P,Q)}}else{if(R.callback!=null&&typeof R.callback.success=="function"){R.callback.success(T)}}}}};this.startRequest=function(P){return L(this.timeout,P)};this.getRequestsCount=function(){return O};this.isRequestPending=function(P){return P!=null&&I[P]!=null};this.handleData=function(P,Q){M(P,Q!=null?Q:null,null)};this.handleError=function(Q,R,P){M(Q,null,R!=null?R:"Unknown error",P!=null?P:null)
}}function b(){var L=0;var K=null;var J=function(){if(K!=null){var N=K;K=null;if(N.length>0){for(var M=0;M<N.length;M++){N[M]()}}}};var I=function(M){if(K==null){K=[]}K.push(M)};this.isBusy=function(){return L>0};this.start=function(M){if(M===true){L=1}else{L++}};this.stop=function(M){if(L>0){if(M===true){L=0}else{if(L>0){L--}}if(L==0){J()}}};this.onReady=function(M){if(typeof M=="function"){if(L>0){I(M)}else{M()}}}}function o(S){var T=4;var Q=256;var U=null;var R=null;var ab=function(al){return a.isFullStr(al)&&al.length>=T&&al.length<Q&&al.length%2==0};var ag=function(al){return al&al};var J=function(al,am){return ag(((al<<5)-al)+am)};var W=function(al){return al.length==1?"0"+al:al};var ad=function(am,al){if(al>0){while(am<0){am+=al}while(am>=al){am-=al}}return am};var Z=function(an,am,al){an+=3;return an+am>=al?0:an};var M=function(al,am){al++;return al>=am?0:al};var aa=function(al,am){return am?-al:al};var ah=function(ao,ap,an,al,am){return ad(ap+aa(al,am)*ac(ao,an),Q)};var O=function(ar,al,aq,at,am,ap,an){var ao=ar!=null&&aq!=null?ar.indexOf(aq):-1;
return ao>=0?aj(ar,ad(ao+aa(ap,an)*(at+ac(al,am)),ar.length)):aq};var N=function(am,al){return al!=null?(am!=null?am+al:al):am};var aj=function(al,am){return al!=null&&am>=0&&am<al.length?al.charAt(am):null};var ac=function(al,am){return al!=null&&am>=0&&am<al.length?al.charCodeAt(am):0};var P=function(aq,at,al,ap,am,ao){var ar=aj(aq,ap);if(ar!=null){var an=Math.random()>0.5?at.indexOf(ar):at.lastIndexOf(ar);return an>=0?W(ah(al,an,am,1,ao).toString(16)):null}return null};var K=function(aq,al,ap,am,ao){var at=aj(aq,ap);var ar=aj(aq,ap+1);var an=at!=null&&ar!=null?parseInt(at+ar,16):-1;return an>=0?ah(al,an,am,-1,ao):-1};var ai=function(ar,aw,am){var av=null;if(a.isFullStr(ar)&&ar.length%2==0&&ab(aw)&&ab(am)){var aq=ar.length;var at=am.length;var an=0;var ap=0;var ao=false;for(var al=0;al<aq;al+=2){var au=aj(aw,K(ar,am,al,an+ap,ao));if(au!=null){av=N(av,au)}else{return null}an=Z(an,ap,at);if(an==0){ap=M(ap,at)}ao=!ao}}return av};var L=function(at,ao,am){var aw=null;if(a.isFullStr(at)&&ab(ao)&&ab(am)){var av=at.length;
var au=am.length;var an=0;var ar=0;var aq=false;for(var al=0;al<av;al++){var ap=P(at,ao,am,al,an+ar,aq);if(ap!=null){aw=N(aw,ap)}else{return null}an=Z(an,ar,au);if(an==0){ar=M(ar,au)}aq=!aq}}return aw};var ak=function(am){var al=am<0?-1:1;return al*((am*al)%Q)};var ae=function(ap){var am=null;if(ab(ap)){var ao=ap.length;var an=ao/2;for(var aq=0;aq<an;aq++){var ar=aj(ap,aq);var al=aj(ap,ao-1-aq);if(am==null||am.indexOf(ar)<0){am=N(am,ar)}if(am.indexOf(al)<0){am=N(am,al)}}}return am};var I=function(ao,aq,ap){var an=0;if(ao!=null&&aq!=null&&ap!=null){var ar=ao.length;var al=ap.length;an=ar;for(var am=0;am<al;am++){an=J(an,ac(ap,am))}for(var am=0;am<ar;am++){if(aq.indexOf(aj(ao,am))<0){an=J(an,ac(ao,am))}}}return ak(an)};var V=function(at,aw,am,au){var ao=null;if(a.isFullStr(at)&&ab(aw)&&ab(am)){var ax=I(at,aw,am);var av=at.length;var ar=am.length;var an=0;var aq=0;var ap=false;for(var al=0;al<av;al++){ao=N(ao,O(aw,am,aj(at,al),ax,an+aq,au,ap));an=Z(an,aq,ar);if(an==0){aq=M(aq,ar)}ap=!ap}}return ao
};var af=function(){return L(a.strShuffle(S),S,S)};var X=function(al,am){return ai(al,ai(am,S,S),S)};var Y=function(){if(R==null){R=ae(S)}return R};this.createSteam=function(){U=af();return U};this.resolveToken=function(al){return X(al,U)};this.transformString=function(al){return V(al,Y(),S,1)};this.normalizeString=function(al){return V(al,Y(),S,-1)}}var m=new function(){var W=16;var X=32;var I="tvx:device_id";var K=/^[a-z-]+_[A-Za-z0-9]+_[0-9]+([0-9#])*$/;var T=new o("Ue!m2K(vI$Ekn@uMgGoHCA9V,%DkT(a*OYhHyLI.s!FCFnr3b34.)cP=r&fi1ftc??wz[N~/45'A&-dsP/YW]-Jj~ed]xpl#DWBZ%_8N705+BJSVT,zlhqv_L[b7U$;EQMt0*+QqmgO9Sw'G=o8;6xpK)RRXZuaij6X1@#y2");var O=new o("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");var Z=new o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");var U=new o(a.strShuffle("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"));var Y=new o("tuNiBAmqXwPd-aUIRFHn2YpVQ9gkD7zWC4jMGycJ8v65SrZ0.hO1eLfKboxEl3sT");
var P=function(ad,ac){return ad!=null&&ac>=0&&ac<ad.length?ad.charAt(ac):"0"};var R=function(ac){return ac.indexOf("-")==0?"0"+ac.substr(1):ac};var aa=function(ad,ag,ac){var ae=0;for(var af=ad.length;af<ac;af++){ad+=P(ag,ae++)}return ad};var Q=function(ac){return aa(R(""+a.createHash(ac)),R(""+a.createHash(ac,true)),W)};var ab=function(ac){return a.isFullStr(ac)&&K.test(ac)};var S=function(ac){if(a.isFullStr(ac)&&ac.length<X){return aa(ac+"#",R(""+a.createHash(ac))+R(""+a.createHash(ac,true)),X)}return ac};var N=function(ac){return a.isFullStr(ac)?a.base64DecodeId(Y.normalizeString(ac)):null};var L=function(ac){return a.isFullStr(ac)?Y.transformString(a.base64EncodeId(S(ac))):null};var M=function(){z.storage.remove(I)};var J=function(ad){var ac=z.storage.getFullStr(I,null);if(!ab(N(ac))){ac=null}if(ac==null&&ad!=null&&ad.info!=null&&ad.info.platform!=null){ac=L(ad.info.platform+"_"+a.createKey(16)+"_"+g.getTimestamp());z.storage.set(I,ac)}return ac};var V=function(ac){if(ac!=null&&ac.info!=null&&ac.info.platform!=null&&ac.info.system!=null){if(ac.info.system.macAddress!=null){return L(ac.info.platform+"_"+ac.info.system.macAddress)
}else{if(ac.info.system.deviceId!=null){return L(ac.info.platform+"_"+ac.info.system.deviceId)}else{if(ac.info.id!=null){return L(ac.info.platform+"_"+ac.info.id)}}}}return J(ac)};this.checkOrigin=function(ac){if(a.isFullStr(ac)){return ac=="null"||ac=="http://msx.benzac.de"||ac=="https://msx.benzac.de"||ac=="ms-appx://52357benzac.de.mediastationx"||ac=="http://localhost"||ac.indexOf("http://localhost:")==0||ac.indexOf("file://")==0}return false};this.transformUrl=function(ac){return T.transformString(ac)};this.transformString=function(ac){return O.transformString(ac)};this.normalizeString=function(ac){return O.normalizeString(ac)};this.createHashKey=function(ac,ad){if(ad=="local"){return U.transformString(Q(ac))}return Z.transformString(Q(ac))};this.clearDeviceId=function(){M()};this.getDeviceId=function(ac){return V(ac)}};var s=new function(){var L=new b();var V=null;var S=false;var O=null;var R=function(Y){if(V!=null){var W=V;V=null;if(W.length>0){for(var X=0;X<W.length;X++){W[X](Y)}}}};
var K=function(W){if(V==null){V=[]}V.push(W)};var P=function(X,W){if(a.isFullStr(W)){if(a.isFullStr(X)){return W==X}return false}return true};var M=function(W){return W!=null&&W.info!=null&&W.info.framework!=null?a.strFullCheck(W.info.framework.name,null):null};var N=function(W){return W!=null&&W.info!=null&&W.info.framework!=null?a.strFullCheck(W.info.framework.version,null):null};var J=function(W){return W!=null&&W.info!=null&&W.info.application!=null?a.strFullCheck(W.info.application.name,null):null};var Q=function(W){return W!=null&&W.info!=null&&W.info.application!=null?a.strFullCheck(W.info.application.version,null):null};var I=function(W){return W!=null&&W.info!=null&&W.info.content!=null?a.strFullCheck(W.info.content.name,null):null};var U=function(W){return W!=null&&W.info!=null&&W.info.content!=null?a.strFullCheck(W.info.content.version,null):null};var T=function(){L.start();L.start();window.addEventListener("load",function(){L.stop()});z.storage.onReady(function(){L.stop()})};
this.createCanvas=function(Y,X,W){return a.strReplace(l.COMMON.HTML.CANVAS.replace("{WIDTH}",a.strToNum(X,k.SCREEN_WIDTH)).replace("{HEIGHT}",a.strToNum(W,k.SCREEN_HEIGHT)),"{CLASS}",a.htmlAttrEscape(Y))};this.createIFrame=function(W,X){return a.strReplace(a.strReplace(l.COMMON.HTML.IFRAME,"{CLASS}",a.htmlAttrEscape(W)),"{SRC}",a.htmlAttrEscape(a.strFullCheck(X,"about:blank")))};this.isReady=function(){return !L.isBusy()};this.onReady=function(W){L.onReady(W)};this.startInitService=function(){L.start()};this.stopInitService=function(){L.stop()};this.areSettingsValidated=function(){return S};this.invalidateSettings=function(){S=false;O=null};this.validateSettings=function(ae){S=true;O=ae;var am=null;var Z=null;var ap=null;var aq=null;var ag=null;var ay=null;var ax=null;var an=null;var at=null;var aa=null;var W=null;var ac=null;var au=null;var ah=null;var af=null;var aj=null;var ar=null;var av=null;var Y=null;var ao=null;var X=null;var ak=null;var ai=null;var al=null;var ad=null;var ab=null;
var aw=null;if(ae!=null&&ae.info!=null){ax=ae.info.platform;an=ae.info.id;if(ae.info.time!=null){am=ae.info.time.offset;Z=ae.info.time.zoneOffset}if(ae.info.screen!=null){ap=ae.info.screen.width;aq=ae.info.screen.height;ag=ae.info.screen.factor;ay=ae.info.screen.zoomFactor}if(ae.info.framework!=null&&ae.info.framework.settings!=null){at=ae.info.framework.settings.animate;aa=ae.info.framework.settings.transform;W=ae.info.framework.settings.input;ac=ae.info.framework.settings.remote;au=ae.info.framework.settings.layout;ah=ae.info.framework.settings.scale;af=ae.info.framework.settings.zoom;aj=ae.info.framework.settings.center;ar=ae.info.framework.settings.background;av=ae.info.framework.settings.leave;Y=ae.info.framework.settings.exit;ao=ae.info.framework.settings.back;X=ae.info.framework.settings.volume;ak=ae.info.framework.settings.busy;ai=ae.info.framework.settings.speed;al=ae.info.framework.settings.playback;ad=ae.info.framework.settings.fullscreen;ab=ae.info.framework.settings.suspend;
aw=ae.info.framework.settings.secure}}k.TIME_OFFSET=a.strToNum(am,k.TIME_OFFSET);k.TIME_ZONE_OFFSET=a.strToNum(Z,k.TIME_ZONE_OFFSET);k.SCREEN_WIDTH=a.strToNum(ap,k.SCREEN_WIDTH);k.SCREEN_HEIGHT=a.strToNum(aq,k.SCREEN_HEIGHT);k.SCREEN_FACTOR=a.strToNum(ag,k.SCREEN_FACTOR);k.ZOOM_FACTOR=a.strToNum(ay,k.ZOOM_FACTOR);k.PLATFORM=a.strFullCheck(ax,k.PLATFORM);k.ID=a.strFullCheck(an,k.ID);k.ANIMATE=a.strToNum(at,k.ANIMATE);k.TRANSFORM=a.strToNum(aa,k.TRANSFORM);k.INPUT=a.strToNum(W,k.INPUT);k.REMOTE=a.strToNum(ac,k.REMOTE);k.LAYOUT=a.strFullCheck(au,k.LAYOUT);k.SCALE=a.strFullCheck(ah,k.SCALE);k.ZOOM=a.strFullCheck(af,k.ZOOM);k.CENTER=a.strToNum(aj,k.CENTER);k.BACKGROUND=a.strToNum(ar,k.BACKGROUND);k.LEAVE=a.strToNum(av,k.LEAVE);k.EXIT=a.strToNum(Y,k.EXIT);k.BACK=a.strToNum(ao,k.BACK);k.VOLUME=a.strToNum(X,k.VOLUME);k.BUSY=a.strToNum(ak,k.BUSY);k.SPEED=a.strToNum(ai,k.SPEED);k.PLAYBACK=a.strToNum(al,k.PLAYBACK);k.FULLSCREEN=a.strToNum(ad,k.FULLSCREEN);k.SUSPEND=a.strToNum(ab,k.SUSPEND);k.SECURE=a.strToNum(aw,k.SECURE);
R(ae)};this.onValidatedSettings=function(W){if(typeof W=="function"){if(S){W(O)}else{K(W)}}};this.handleSettingsEvent=function(X){if(X!=null&&a.isFullStr(X.event)&&X.event.indexOf("settings:")==0){var W=X.event.substr(9);if(W=="animate"){k.ANIMATE=a.strToNum(X.value,k.ANIMATE)}else{if(W=="transform"){k.TRANSFORM=a.strToNum(X.value,k.TRANSFORM)}else{if(W=="input"){k.INPUT=a.strToNum(X.value,k.INPUT)}else{if(W=="remote"){k.REMOTE=a.strToNum(X.value,k.REMOTE)}else{if(W=="layout"){k.LAYOUT=a.strToNum(X.value,k.LAYOUT)}else{if(W=="scale"){k.SCALE=a.strFullCheck(X.value,k.SCALE)}else{if(W=="zoom"){k.ZOOM=a.strFullCheck(X.value,k.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(W){return a.strFullCheck(M(W),"-")+" "+a.strFullCheck(N(W),"-")};this.getApplicationInfo=function(W){return a.strFullCheck(J(W),"-")+" "+a.strFullCheck(Q(W),"-")};this.getContentInfo=function(W){return a.strFullCheck(I(W),"-")+" "+a.strFullCheck(U(W),"-")};this.checkFramework=function(Y,X,W){return a.checkVersion(N(Y),X)&&P(M(Y),W)
};this.checkApplication=function(Y,X,W){return a.checkVersion(Q(Y),X)&&P(J(Y),W)};this.checkContent=function(Y,X,W){return a.checkVersion(U(Y),X)&&P(I(Y),W)};this.isSameContentState=function(X,W){return X!=null&&W!=null&&X.start===W.start&&X.restored===W.restored&&X.menuId===W.menuId&&X.menuFlag===W.menuFlag&&X.menuFocus===W.menuFocus&&X.menuIndex===W.menuIndex&&X.menuSize===W.menuSize&&X.contentId===W.contentId&&X.contentFlag===W.contentFlag&&X.contentFocus===W.contentFocus&&X.contentIndex===W.contentIndex&&X.contentSize===W.contentSize&&X.contentVisible===W.contentVisible&&X.panelId===W.panelId&&X.panelFlag===W.panelFlag&&X.panelFocus===W.panelFocus&&X.panelIndex===W.panelIndex&&X.panelSize===W.panelSize&&X.panelVisible===W.panelVisible&&X.videoVisible===W.videoVisible&&X.videoActive===W.videoActive&&X.playerVisible===W.playerVisible&&X.slideshowVisible===W.slideshowVisible&&X.volumeVisible===W.volumeVisible&&X.logVisible===W.logVisible};this.createChangedContentState=function(X,W){return W!=null?{init:W.init,initChanged:X==null||X.init!==W.init,start:W.start,startChanged:X==null||X.start!==W.start,restored:W.restored,restoredChanged:X==null||X.restored!==W.restored,menuId:W.menuId,menuIdChanged:X==null||X.menuId!==W.menuId,menuFlag:W.menuFlag,menuFlagChanged:X==null||X.menuFlag!==W.menuFlag,menuFocus:W.menuFocus,menuFocusChanged:X==null||X.menuFocus!==W.menuFocus,menuIndex:W.menuIndex,menuIndexChanged:X==null||X.menuIndex!==W.menuIndex,menuSize:W.menuSize,menuSizeChanged:X==null||X.menuSize!==W.menuSize,contentId:W.contentId,contentIdChanged:X==null||X.contentId!==W.contentId,contentFlag:W.contentFlag,contentFlagChanged:X==null||X.contentFlag!==W.contentFlag,contentFocus:W.contentFocus,contentFocusChanged:X==null||X.contentFocus!==W.contentFocus,contentIndex:W.contentIndex,contentIndexChanged:X==null||X.contentIndex!==W.contentIndex,contentSize:W.contentSize,contentSizeChanged:X==null||X.contentSize!==W.contentSize,contentVisible:W.contentVisible,contentVisibleChanged:X==null||X.contentVisible!==W.contentVisible,panelId:W.panelId,panelIdChanged:X==null||X.panelId!==W.panelId,panelFlag:W.panelFlag,panelFlagChanged:X==null||X.panelFlag!==W.panelFlag,panelFocus:W.panelFocus,panelFocusChanged:X==null||X.panelFocus!==W.panelFocus,panelIndex:W.panelIndex,panelIndexChanged:X==null||X.panelIndex!==W.panelIndex,panelSize:W.panelSize,panelSizeChanged:X==null||X.panelSize!==W.panelSize,panelVisible:W.panelVisible,panelVisibleChanged:X==null||X.panelVisible!==W.panelVisible,videoVisible:W.videoVisible,videoVisibleChanged:X==null||X.videoVisible!==W.videoVisible,videoActive:W.videoActive,videoActiveChanged:X==null||X.videoActive!==W.videoActive,playerVisible:W.playerVisible,playerVisibleChanged:X==null||X.playerVisible!==W.playerVisible,slideshowVisible:W.slideshowVisible,slideshowVisibleChanged:X==null||X.slideshowVisible!==W.slideshowVisible,volumeVisible:W.volumeVisible,volumeVisibleChanged:X==null||X.volumeVisible!==W.volumeVisible,logVisible:W.logVisible,logVisibleChanged:X==null||X.logVisible!==W.logVisible}:X
};T()};var E=new function(){var aY="videoPlugin";var aX="vrq";var aU=100;var af=30000;var aL=new o("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var aS=null;var aa=false;var aZ=null;var am=false;var S=false;var I=false;var W=false;var Q=null;var aF=new i();var ad=new n(1000);var aK=new n(1000);var aO=false;var ah={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:k.SCREEN_WIDTH,height:k.SCREEN_HEIGHT};var at=function(ba){return(ba!=null&&ba.webkitSupportsFullscreen===true)||document.fullscreenEnabled===true||document.msFullscreenEnabled===true||document.mozFullScreenEnabled===true||document.webkitFullscreenEnabled===true};var V=function(ba){return(ba!=null&&ba.webkitDisplayingFullscreen===true)||document.fullScreenElement!=null||document.msFullscreenElement!=null||document.mozFullScreen===true||document.webkitIsFullScreen===true};var aj=function(ba){if(ba!=null&&at(ba)){try{if(typeof ba.webkitEnterFullScreen=="function"){ba.webkitEnterFullScreen();
return true}else{if(typeof ba.requestFullscreen=="function"){ba.requestFullscreen();return true}else{if(typeof ba.msRequestFullscreen=="function"){ba.msRequestFullscreen();return true}else{if(typeof ba.mozRequestFullScreen=="function"){ba.mozRequestFullScreen();return true}else{if(typeof ba.webkitRequestFullscreen=="function"){ba.webkitRequestFullscreen();return true}}}}}}catch(bb){aD("Request fullscreen failed",bb)}}return false};var aV=function(ba){if(V(ba)){try{if(ba!=null&&typeof ba.webkitExitFullScreen=="function"){ba.webkitExitFullScreen();return true}else{if(typeof document.exitFullscreen=="function"){document.exitFullscreen();return true}else{if(typeof document.msExitFullscreen=="function"){document.msExitFullscreen();return true}else{if(typeof document.mozCancelFullScreen=="function"){document.mozCancelFullScreen();return true}else{if(typeof document.webkitExitFullscreen=="function"){document.webkitExitFullscreen();return true}}}}}}catch(bb){aD("Exit fullscreen failed",bb)}}return false
};var aH=function(ba){aS=new o(ba)};var au=function(ba){if(am){if(ba=="local"){return aS!=null?aS.createSteam():null}return aL.createSteam()}return null};var aC=function(ba,bb){if(am){if(bb=="local"){return aS!=null?aS.resolveToken(ba):null}return aL.resolveToken(ba)}return null};var P=function(ba,bb){if(am){if(bb=="local"){return aS!=null?aS.transformString(ba):null}else{if(bb=="global"){return aL.transformString(ba)}else{if(bb=="shared"){return m.transformString(aS!=null?aS.transformString(ba):ba)}}}return aL.transformString(aS!=null?aS.transformString(ba):ba)}return null};var aI=function(ba,bb){if(am){if(bb=="local"){return aS!=null?aS.normalizeString(ba):null}else{if(bb=="global"){return aL.normalizeString(ba)}else{if(bb=="shared"){return aS!=null?aS.normalizeString(m.normalizeString(ba)):m.normalizeString(ba)}}}return aS!=null?aS.normalizeString(aL.normalizeString(ba)):aL.normalizeString(ba)}return null};var aT=function(ba){if(a.isNum(ba)){ba=a.strToNum(ba,0);if(isFinite(ba)){return ba
}}return 0};var O=function(){if(ah.position==0||ah.duration==0){try{var ba=false;if(ah.position==0){ah.position=aT(Q.getPosition());ba=ah.position>0}if(ah.duration==0){ah.duration=aT(Q.getDuration());ba=ah.duration>0}if(ah.position>0&&ah.duration>0){ay()}if(ba){N()}}catch(bb){aD("Start failed",bb);ay()}}else{ay()}};var ay=function(){aa=true;aB()};var aP=function(){aB();if(am&&!aa&&Q!=null&&typeof Q.getPosition=="function"&&typeof Q.getDuration=="function"){aZ=setInterval(O,aU)}};var aB=function(){if(aZ!=null){clearInterval(aZ);aZ=null}};var aQ=0;var az={};var ac=function(bc){aQ++;var ba=aX+aQ+"_"+g.getTimestamp();var bb={timeout:new n(af),callback:bc};az[ba]=bb;bb.timeout.start(function(){a3(ba,{error:"Request timed out"})});return ba};var a3=function(ba,bc){if(ba!=null){var bb=az[ba];if(bb!=null){bb.timeout.stop();delete az[ba];T(bb.callback,bc)}}};var T=function(bc,ba){if(typeof bc=="function"){try{bc(ba)}catch(bb){aD("Callback error",bb)}}};var M=new h();var aG=new n(500);var al=null;
var ai=null;var K=function(ba){if(ba!=null){if(s.isSameContentState(al,ba)){if(!s.isSameContentState(ai,ba)){if(ai==null){ba.init=true}ai=s.createChangedContentState(ai,ba);M.notifyObservers(ai)}}else{al=ba}}ar()};var aR=function(){if(am){ae("info:content",function(ba){K(ba.info!=null&&ba.info.content!=null?ba.info.content.state:null)})}else{ar()}};var ar=function(ba){if(M.hasObservers()){if(a.isFullStr(ba)&&ai!=null){M.notifyObserver(ba,ai)}aG.start(aR)}else{al=null;ai=null;aG.stop()}};var N=function(){X(ah)};var ag=function(){aF.addHook(aY,L)};var a9=function(){if(ah.state==y.STOPPED){aF.stop()}else{aF.start()}};var U=function(ba,bb){if(a.isFullStr(ba)){X({action:ba,data:bb!=null?bb:null})}};var ap=function(bb,ba){if(a.isFullStr(bb)){if(ba!==false){U("logger:debug:"+bb)}}};var a5=function(bb,ba,bc){if(a.isFullStr(bb)){if(ba!==false){U("logger:success:"+bb,{show:bc!==false})}else{if(bc!==false){U("success:"+bb)}}}};var a8=function(bb,ba,bc){if(a.isFullStr(bb)){if(ba!==false){U("logger:info:"+bb,{show:bc!==false})
}else{if(bc!==false){U("info:"+bb)}}}};var a1=function(bb,ba,bc){if(a.isFullStr(bb)){if(ba!==false){U("logger:warn:"+bb,{show:bc!==false})}else{if(bc!==false){U("warn:"+bb)}}}};var a6=function(bb,ba,bc){if(a.isFullStr(bb)){if(ba!==false){U("logger:error:"+bb,{show:bc!==false})}else{if(bc!==false){U("error:"+bb)}}}};var ab=function(ba,bb){if(a.isFullStr(ba)&&bb!=null){if(typeof bb=="object"){U(ba+":data",bb)}else{U(ba+":"+bb)}}};var aE=function(ba){ab("menu",ba)};var aN=function(ba){ab("content",ba)};var av=function(ba){ab("panel",ba)};var ae=function(ba,bc,bb){if(a.isFullStr(ba)){if(bb==null){bb={}}bb.requestId=ac(bc);bb.dataId=ba;U("player:commit:"+ba,bb)}else{T(bc,{error:"Data ID is invalid: '"+ba+"'"})}};var aD=function(ba,bb){if(ba!=null&&bb!=null){if(bb.name!=null&&bb.message!=null){a6("Plugin: "+ba+": "+bb.name+": "+bb.message)}else{a6("Plugin: "+ba+": "+bb)}if(Q!=null&&typeof Q.onError=="function"){try{Q.onError(ba,bb)}catch(bc){}}}};var ak=function(ba){if(ah.state!=y.PLAYING||ba===true){ah.state=y.PLAYING;
if(am&&Q!=null&&typeof Q.play=="function"){try{Q.play()}catch(bb){aD("Play failed",bb)}}}};var a2=function(ba){if(ah.state!=y.PAUSED||ba===true){ah.state=y.PAUSED;if(am&&Q!=null&&typeof Q.pause=="function"){try{Q.pause()}catch(bb){aD("Pause failed",bb)}}}};var Z=function(ba){if(ah.state!=y.STOPPED||ba===true){ah.state=y.STOPPED;if(am&&Q!=null&&typeof Q.stop=="function"){try{Q.stop()}catch(bb){aD("Stop failed",bb)}}}};var ao=function(ba,bb){if(ba==y.PLAYING){ak(bb)}else{if(ba==y.PAUSED){a2(bb)}else{if(ba==y.STOPPED){Z(bb)}}}};var L=function(){if(am&&Q!=null&&!ad.isBusy()&&typeof Q.getUpdateData=="function"){try{var bb=Q.getUpdateData();if(bb!=null){var bc=false;if(a.isNum(bb.state)){bc=true;ah.state=a.strToNum(bb.state,ah.state)}if(a.isNum(bb.position)){bc=true;ah.position=a.strToNum(bb.position,ah.position);if(!isFinite(ah.position)){ah.position=0}}if(a.isNum(bb.duration)){bc=true;ah.duration=a.strToNum(bb.duration,ah.duration);if(!isFinite(ah.duration)){ah.duration=0}}if(a.isNum(bb.speed)){bc=true;
ah.speed=a.strToNum(bb.speed,ah.speed)}if(a.isBool(bb.ended)){bc=true;ah.ended=a.strToBool(bb.ended,ah.ended)}if(a.isNum(bb.volume)){bc=true;ah.volume=a.strToNum(bb.volume,ah.volume)}if(a.isBool(bb.muted)){bc=true;ah.muted=a.strToBool(bb.muted,ah.muted)}if(bc){N();a9()}}}catch(ba){aD("Update failed",ba)}}};var a4=function(bc,ba){W=false;if(ah.position!=bc||bc==0||ba===true){ah.position=bc;if(am&&Q!=null&&typeof Q.setPosition=="function"){try{Q.setPosition(bc);if(!W){ad.start()}}catch(bb){aD("Set position failed",bb)}}}};var aw=function(ba,bc){if(ah.volume!=ba||bc===true){ah.volume=ba;if(am&&Q!=null&&typeof Q.setVolume=="function"){try{Q.setVolume(ba)}catch(bb){aD("Set volume failed",bb)}}}};var R=function(ba,bb){if(ah.muted!=ba||bb===true){ah.muted=ba;if(am&&Q!=null&&typeof Q.setMuted=="function"){try{Q.setMuted(ba)}catch(bc){aD("Set muted failed",bc)}}}};var aq=function(ba,bb){if(ah.speed!=ba||bb===true){ah.speed=ba;if(am&&Q!=null&&typeof Q.setSpeed=="function"){try{Q.setSpeed(ba)}catch(bc){aD("Set speed failed",bc)
}}}};var aA=function(bb,ba,bc){if(ah.width!=bb||ah.height!=ba||bc===true){ah.width=bb;ah.height=ba;if(am&&Q!=null&&typeof Q.setSize=="function"){try{Q.setSize(bb,ba)}catch(bd){aD("Set size failed",bd)}}}};var Y=function(ba,bb){U("response:"+ba,bb)};var aJ=function(ba,bb){a3(ba,bb)};var a0=function(bb,ba,bd){if(typeof Q.handleRequest=="function"){try{Q.handleRequest(ba,bd,function(be){Y(bb,be)})}catch(bc){aD("Handle request failed",bc);Y(bb)}}else{Y(bb)}};var ax=function(bb){if(am&&bb!=null&&Q!=null){if(typeof Q.handleEvent=="function"){try{Q.handleEvent(bb)}catch(ba){aD("Handle event failed",ba)}}}};var J=function(be){if(am&&be!=null&&Q!=null){if(a.isFullStr(be.requestId)&&a.isFullStr(be.dataId)){a0(be.requestId,be.dataId,be.data)}else{if(be.data!=null&&a.isFullStr(be.data.requestId)&&a.isFullStr(be.data.dataId)){var bb={};var bd=be.data.dataId;var ba=bd.indexOf(":");if(ba>0){bd=bd.substr(0,ba)}bb[bd]=be[bd]!=null?be[bd]:null;bb.error=a.strFullCheck(be.error,null);aJ(be.data.requestId,bb)
}else{if(typeof Q.handleData=="function"){try{Q.handleData(be)}catch(bc){aD("Handle data failed",bc)}}}}}};var aW=function(ba){if(!I||ba===true){I=true;if(Q!=null&&typeof Q.init=="function"){try{Q.init()}catch(bb){aD("Call init failed",bb)}}}};var aM=function(ba){if(!am||ba===true){am=true;if(Q!=null&&typeof Q.ready=="function"){try{Q.ready()}catch(bb){aD("Call ready failed",bb)}}}};var an=function(){am=false;window.addEventListener("message",function(ba){if(m.checkOrigin(ba.origin)){a7(ba.data)}},false);U("plugin:init")};var a7=function(ba){if(I&&ba!=null&&ba.type===aY){if(ba.init===1&&am){return}if(a.isNum(ba.state)){ao(a.strToNum(ba.state,ah.state))}if(a.isNum(ba.position)){a4(a.strToNum(ba.position,ah.position))}if(a.isNum(ba.speed)){aq(a.strToNum(ba.speed,ah.speed))}if(a.isNum(ba.volume)){R(false);aw(a.strToNum(ba.volume,ah.volume))}if(a.isBool(ba.muted)){R(a.strToBool(ba.muted,ah.muted))}if(a.isNum(ba.width)&&a.isNum(ba.height)){aA(a.strToNum(ba.width,ah.width),a.strToNum(ba.height,ah.height))
}if(ba.init===1){aM()}else{if(ba.data!=null){if(a.isFullStr(ba.data.event)){ax(ba.data)}else{J(ba.data)}}}}};var X=function(bb){if(window.parent!=null&&bb!=null){bb.type=aY;bb.sender="plugin";bb.target="app";try{window.parent.postMessage(bb,"*")}catch(ba){if(window.console!=null){console.error("Post message failed",ba)}}}};this.setupPlayer=function(ba){Q=ba;if(I){aW(true)}if(am){aM(true)}};this.setSeekDelay=function(ba){ad.delay=a.strToNum(ba,ad.delay)};this.getSeekDelay=function(){return ad.delay};this.setLoadingDelay=function(ba){aK.delay=a.strToNum(ba,aK.delay)};this.getLoadingDelay=function(){return aK.delay};this.isFullscreenEnabled=function(ba){return at(ba)};this.isFullscreenActive=function(ba){return V(ba)};this.requestFullscreen=function(ba){return aj(ba)};this.exitFullscreen=function(ba){return aV(ba)};this.setState=function(ba,bb){if(am){ah.state=a.strToNum(ba,ah.state);if(bb===true){N()}a9()}};this.getState=function(){return ah.state};this.applyState=function(){if(am){ao(ah.state,true)
}};this.setPosition=function(bb,ba){if(am){W=true;ah.position=a.strToNum(bb,ah.position);if(!isFinite(ah.position)){ah.position=0}ad.stop();if(ba===true){N();a9()}}};this.getPosition=function(){return ah.position};this.applyPosition=function(){if(am){a4(ah.position,true)}};this.setDuration=function(ba,bb){if(am){ah.duration=a.strToNum(ba,ah.duration);if(!isFinite(ah.duration)){ah.duration=0}if(bb===true){N();a9()}}};this.getDuration=function(){return ah.duration};this.setSpeed=function(ba,bb){if(am){ah.speed=a.strToNum(ba,ah.speed);if(bb===true){N();a9()}}};this.getSpeed=function(){return ah.speed};this.applySpeed=function(){if(am){aq(ah.speed,true)}};this.setEnded=function(ba,bb){if(am){ah.ended=a.strToBool(ba,ah.ended);if(bb===true){N();a9()}}};this.hasEnded=function(){return ah.ended};this.setVolume=function(bb,ba){if(am){ah.volume=a.strToNum(bb,ah.volume);if(ba===true){N();a9()}}};this.getVolume=function(){return ah.volume};this.setMuted=function(ba,bb){if(am){ah.muted=a.strToBool(ba,ah.muted);
if(bb===true){N();a9()}}};this.isMuted=function(){return ah.muted};this.applyVolume=function(){if(am){aw(ah.volume,true);R(ah.muted,true)}};this.getWidth=function(){return ah.width};this.getHeight=function(){return ah.height};this.applySize=function(){if(am){aA(ah.width,ah.height,true)}};this.executeAction=function(ba,bb){if(am){U(ba,bb)}};this.debug=function(bb,ba){if(am){ap(bb,ba)}};this.success=function(bb,ba,bc){if(am){a5(bb,ba,bc)}};this.info=function(bb,ba,bc){if(am){a8(bb,ba,bc)}};this.warn=function(bb,ba,bc){if(am){a1(bb,ba,bc)}};this.error=function(bb,ba,bc){if(am){a6(bb,ba,bc)}};this.showMenu=function(ba){if(am){aE(ba)}};this.showContent=function(ba){if(am){aN(ba)}};this.showPanel=function(ba){if(am){av(ba)}};this.showPlayer=function(ba){if(am){if(a.isFullStr(ba)){U("player:show:"+ba)}else{U("player:show")}}};this.showAction=function(){if(am){U("player:action")}};this.hidePlayer=function(){if(am){U("player:hide")}};this.setupContentLabel=function(ba){if(am){U("player:label:content:"+a.strFullCheck(ba,"default"))
}};this.setupExtensionLabel=function(ba){if(am){U("player:label:extension:"+a.strFullCheck(ba,"default"))}};this.setupPositionLabel=function(ba){if(am){U("player:label:position:"+a.strFullCheck(ba,"default"))}};this.setupDurationLabel=function(ba){if(am){U("player:label:duration:"+a.strFullCheck(ba,"default"))}};this.setupSpeedLabel=function(ba){if(am){U("player:label:speed:"+a.strFullCheck(ba,"default"))}};this.setupInfoText=function(ba){if(am){U("player:info:text:"+a.strFullCheck(ba,"default"))}};this.setupInfoImage=function(ba){if(am){U("player:info:image:"+a.strFullCheck(ba,"default"))}};this.setupInfoOverlay=function(ba){if(am){U("player:info:overlay:"+a.strFullCheck(ba,"default"))}};this.setupInfoSize=function(ba){if(am){U("player:info:size:"+a.strFullCheck(ba,"default"))}};this.setupControlAction=function(ba){if(am){U("player:control:action:"+a.strFullCheck(ba,"default"))}};this.setupButton=function(ba,bb){if(am&&a.isId(ba)){U("player:button:"+ba+":setup",bb)}};this.enableButton=function(ba){if(am&&a.isId(ba)){U("player:button:"+ba+":enable")
}};this.disableButton=function(ba){if(am&&a.isId(ba)){U("player:button:"+ba+":disable")}};this.resetButton=function(ba){if(am&&a.isId(ba)){U("player:button:"+ba+":reset")}};this.focusButton=function(ba){if(am&&a.isId(ba)){U("player:button:"+ba+":focus")}};this.setupProgressPosition=function(ba){if(am){U("player:progress:position:"+a.strToNum(ba,-1))}};this.setupProgressDuration=function(ba){if(am){U("player:progress:duration:"+a.strToNum(ba,-1))}};this.setupProgressColor=function(ba){if(am){U("player:progress:color:"+a.strFullCheck(ba,"default"))}};this.setupProgressType=function(ba){if(am){U("player:progress:type:"+a.strFullCheck(ba,"default"))}};this.enableProgressMarker=function(){if(am){U("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(am){U("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(am){U("player:progress:marker:invalidate")}};this.setupBackground=function(ba){if(am){U("player:background:"+a.strFullCheck(ba,"default"))
}};this.setupTrigger=function(ba,bb,bc){if(am&&a.isFullStr(ba)&&a.isFullStr(bb)){if(bc===true){U("trigger:"+ba+":shot:"+bb)}else{U("trigger:"+ba+":"+bb)}}};this.clearTrigger=function(ba){if(am&&a.isFullStr(ba)){U("trigger:"+ba+":none")}};this.refreshPlayer=function(){if(am){U("player:refresh")}};this.resetPlayer=function(){if(am){U("player:reset")}};this.cancelResume=function(){if(am){U("resume:cancel")}};this.requestData=function(ba,bc,bb){if(am){ae(ba,bc,bb)}else{T(bc,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(ba,bc,bb){if(a.isFullStr(ba)){this.requestData("response:request:interaction:"+ba,bc,bb!=null?{requestData:bb}:null)}else{T(bc,{error:"Data ID is invalid: '"+ba+"'"})}};this.validateSettings=function(ba){s.invalidateSettings();this.requestData("info",function(bb){s.validateSettings(bb);T(ba,bb)})};this.onValidatedSettings=function(ba){if(!s.areSettingsValidated()&&!aO){aO=true;this.validateSettings(function(){aO=false})}s.onValidatedSettings(ba)};this.triggerEvent=function(ba,bb){if(am&&a.isFullStr(ba)){U("event:"+ba,bb)
}};this.setupSteam=function(ba){aH(ba)};this.createSteam=function(ba){return au(ba)};this.resolveToken=function(ba,bb){return aC(ba,bb)};this.transformString=function(ba,bb){return P(ba,bb)};this.normalizeString=function(ba,bb){return aI(ba,bb)};this.transformStringAsync=function(bc,bd,bb){var ba=P(bc,bd);if(a.isFullStr(ba)){this.requestData("string:transform:"+ba,function(be){T(bb,{string:a.strFullCheck(be.string,null)})})}else{T(bb,{string:null})}};this.normalizeStringAsync=function(bb,bc,ba){if(a.isFullStr(bb)){this.requestData("string:normalize:"+bb,function(bd){T(ba,{string:aI(bd.string,bc)})})}else{T(ba,{string:null})}};this.transformUrl=function(ba){return m.transformUrl(ba)};this.createHashKey=function(ba,bb){return m.createHashKey(ba,bb)};this.clearDeviceId=function(){m.clearDeviceId()};this.getDeviceId=function(ba){return m.getDeviceId(ba)};this.requestDeviceId=function(ba){this.requestData("info:extended",function(bb){if(bb.error!=null){T(ba,{error:bb.error})}else{T(ba,{deviceId:m.getDeviceId(bb)})
}})};this.hasContentObservers=function(){return M.hasObservers()};this.addContentObserver=function(ba,bb){M.addObserver(ba,bb);ar(ba)};this.removeContentObserver=function(ba){M.removeObserver(ba);ar()};this.clearContentObservers=function(){M.clear();ar()};this.init=function(){if(!I){an();ag();aW()}};this.commit=function(){if(am){N();a9()}};this.isInitialized=function(){return I};this.isReady=function(){return am};this.startPlayback=function(ba){if(am){ao(y.PLAYING,true);N();a9();if(ba===true){aP()}}};this.stopPlayback=function(){if(am){this.setEnded(true,true);aB()}};this.cancelPlayback=function(){if(am){U("player:eject")}};this.startLoading=function(ba){if(am){if(S){U("player:busy:start:player")}else{if(!aK.isBusy()||ba!==false){aK.start(function(){S=true;U("player:busy:start:player")})}}}};this.stopLoading=function(){if(am){aK.stop();if(S){S=false;U("player:busy:stop:player")}}};this.executeHandler=function(ba,bc){if(typeof ba=="function"){try{if(bc!=null){T(bc,ba())}else{ba()}}catch(bb){aD("Execute handler failed",bb);
if(bc!=null){T(bc,null)}}}}};var x=new function(){var L="interactionPlugin";var ap="irq";var af=10;var aI=30000;var X=new o("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var Q=null;var P=false;var ar=new n(1000);var aA=false;var ah=false;var ab=null;var az=false;var aE=null;var Y=function(aM){Q=new o(aM)};var ai=function(aM){if(aA){if(aM=="local"){return Q!=null?Q.createSteam():null}return X.createSteam()}return null};var J=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.resolveToken(aM):null}return X.resolveToken(aM)}return null};var at=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.transformString(aM):null}else{if(aN=="global"){return X.transformString(aM)}else{if(aN=="shared"){return m.transformString(Q!=null?Q.transformString(aM):aM)}}}return X.transformString(Q!=null?Q.transformString(aM):aM)}return null};var W=function(aM,aN){if(aA){if(aN=="local"){return Q!=null?Q.normalizeString(aM):null
}else{if(aN=="global"){return X.normalizeString(aM)}else{if(aN=="shared"){return Q!=null?Q.normalizeString(m.normalizeString(aM)):m.normalizeString(aM)}}}return Q!=null?Q.normalizeString(X.normalizeString(aM)):X.normalizeString(aM)}return null};var aJ=0;var aD={};var ak=function(aO){aJ++;var aM=ap+aJ+"_"+g.getTimestamp();var aN={timeout:new n(aI),callback:aO};aD[aM]=aN;aN.timeout.start(function(){am(aM,{error:"Request timed out"})});return aM};var am=function(aM,aO){if(aM!=null){var aN=aD[aM];if(aN!=null){aN.timeout.stop();delete aD[aM];T(aN.callback,aO)}}};var T=function(aO,aM){if(typeof aO=="function"){try{aO(aM)}catch(aN){ad("Callback error",aN)}}};var aH=new h();var ac=new n(500);var an=null;var av=null;var Z=function(aM){if(aM!=null){if(s.isSameContentState(an,aM)){if(!s.isSameContentState(av,aM)){if(av==null){aM.init=true}av=s.createChangedContentState(av,aM);aH.notifyObservers(av)}}else{an=aM}}aa()};var ay=function(){if(aA){aj("info:content",function(aM){Z(aM.info!=null&&aM.info.content!=null?aM.info.content.state:null)
})}else{aa()}};var aa=function(aM){if(aH.hasObservers()){if(a.isFullStr(aM)&&av!=null){aH.notifyObserver(aM,av)}ac.start(ay)}else{an=null;av=null;ac.stop()}};var R=function(aM,aN){if(a.isFullStr(aM)){U({action:aM,data:aN!=null?aN:null})}};var au=function(aN,aM){if(a.isFullStr(aN)){if(aM!==false){R("logger:debug:"+aN)}}};var aq=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:success:"+aN,{show:aO!==false})}else{if(aO!==false){R("success:"+aN)}}}};var aL=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:info:"+aN,{show:aO!==false})}else{if(aO!==false){R("info:"+aN)}}}};var ae=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:warn:"+aN,{show:aO!==false})}else{if(aO!==false){R("warn:"+aN)}}}};var al=function(aN,aM,aO){if(a.isFullStr(aN)){if(aM!==false){R("logger:error:"+aN,{show:aO!==false})}else{if(aO!==false){R("error:"+aN)}}}};var N=function(aM,aN){if(a.isFullStr(aM)&&aN!=null){if(typeof aN=="object"){R(aM+":data",aN)}else{R(aM+":"+aN)}}};var aC=function(aM){N("menu",aM)
};var V=function(aM){N("content",aM)};var S=function(aM){N("panel",aM)};var aj=function(aM,aO,aN){if(a.isFullStr(aM)){if(aN==null){aN={}}aN.requestId=ak(aO);aN.dataId=aM;R("interaction:commit:"+aM,aN)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};var ad=function(aM,aN){if(aM!=null&&aN!=null){if(aN.name!=null&&aN.message!=null){al("Interaction: "+aM+": "+aN.name+": "+aN.message)}else{al("Interaction: "+aM+": "+aN)}if(ab!=null&&typeof ab.onError=="function"){try{ab.onError(aM,aN)}catch(aO){}}}};var ax=function(aM,aN){R("response:"+aM,aN)};var ag=function(aM,aN){am(aM,aN)};var I=function(aN,aM,aP){if(typeof ab.handleRequest=="function"){try{ab.handleRequest(aM,aP,function(aQ){ax(aN,aQ)})}catch(aO){ad("Handle request failed",aO);ax(aN)}}else{ax(aN)}};var aK=function(aN){if(aA&&aN!=null&&ab!=null){if(typeof ab.handleEvent=="function"){try{ab.handleEvent(aN)}catch(aM){ad("Handle event failed",aM)}}}};var ao=function(aQ){if(aA&&aQ!=null&&ab!=null){if(a.isFullStr(aQ.requestId)&&a.isFullStr(aQ.dataId)){I(aQ.requestId,aQ.dataId,aQ.data)
}else{if(aQ.data!=null&&a.isFullStr(aQ.data.requestId)&&a.isFullStr(aQ.data.dataId)){var aN={};var aP=aQ.data.dataId;var aM=aP.indexOf(":");if(aM>0){aP=aP.substr(0,aM)}aN[aP]=aQ[aP]!=null?aQ[aP]:null;aN.error=a.strFullCheck(aQ.error,null);ag(aQ.data.requestId,aN)}else{if(typeof ab.handleData=="function"){try{ab.handleData(aQ)}catch(aO){ad("Handle data failed",aO)}}}}}};var aF=function(aM){aE=aM!=null&&aM.length>0?aM:null};var O=function(){if(aE!=null&&aE.length>0){for(var aM=0;aM<aE.length;aM++){ao(aE[aM])}}aE=null};var aG=function(aM){if(aA&&aM!=null){if(aE==null){aE=[]}if(aE.length>=af){aE.shift()}aE.push(aM)}};var M=function(aM){if(!ah||aM===true){ah=true;if(ab!=null&&typeof ab.init=="function"){try{ab.init()}catch(aN){ad("Call init failed",aN)}}}};var aB=function(aM){if(!aA||aM===true){aA=true;if(ab!=null&&typeof ab.ready=="function"){try{ab.ready()}catch(aN){ad("Call ready failed",aN)}}if(ab!=null){O()}}};var aw=function(){aA=false;window.addEventListener("message",function(aM){if(m.checkOrigin(aM.origin)){K(aM.data)
}},false);R("interaction:init")};var K=function(aM){if(ah&&aM!=null&&aM.type===L){if(aM.init===1&&aA){return}if(aM.init===1){aF(aM.data);aB()}else{if(aM.data!=null){if(a.isFullStr(aM.data.event)){aK(aM.data)}else{if(ab!=null){ao(aM.data)}else{aG(aM.data)}}}}}};var U=function(aN){if(window.parent!=null&&aN!=null){aN.type=L;aN.sender="plugin";aN.target="app";try{window.parent.postMessage(aN,"*")}catch(aM){if(window.console!=null){console.error("Post message failed",aM)}}}};this.setupHandler=function(aM){ab=aM;if(ah){M(true)}if(aA){aB(true)}};this.setLoadingDelay=function(aM){ar.delay=a.strToNum(aM,ar.delay)};this.getLoadingDelay=function(){return ar.delay};this.executeAction=function(aM,aN){if(aA){R(aM,aN)}};this.debug=function(aN,aM){if(aA){au(aN,aM)}};this.success=function(aN,aM,aO){if(aA){aq(aN,aM,aO)}};this.info=function(aN,aM,aO){if(aA){aL(aN,aM,aO)}};this.warn=function(aN,aM,aO){if(aA){ae(aN,aM,aO)}};this.error=function(aN,aM,aO){if(aA){al(aN,aM,aO)}};this.showMenu=function(aM){if(aA){aC(aM)
}};this.showContent=function(aM){if(aA){V(aM)}};this.showPanel=function(aM){if(aA){S(aM)}};this.requestData=function(aM,aO,aN){if(aA){aj(aM,aO,aN)}else{T(aO,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aM,aO,aN){if(a.isFullStr(aM)){this.requestData("response:request:player:"+aM,aO,aN!=null?{requestData:aN}:null)}else{T(aO,{error:"Data ID is invalid: '"+aM+"'"})}};this.validateSettings=function(aM){s.invalidateSettings();this.requestData("info",function(aN){s.validateSettings(aN);T(aM,aN)})};this.onValidatedSettings=function(aM){if(!s.areSettingsValidated()&&!az){az=true;this.validateSettings(function(){az=false})}s.onValidatedSettings(aM)};this.triggerEvent=function(aM,aN){if(aA&&a.isFullStr(aM)){R("event:"+aM,aN)}};this.setupSteam=function(aM){Y(aM)};this.createSteam=function(aM){return ai(aM)};this.resolveToken=function(aM,aN){return J(aM,aN)};this.transformString=function(aM,aN){return at(aM,aN)};this.normalizeString=function(aM,aN){return W(aM,aN)};this.transformStringAsync=function(aO,aP,aN){var aM=at(aO,aP);
if(a.isFullStr(aM)){this.requestData("string:transform:"+aM,function(aQ){T(aN,{string:a.strFullCheck(aQ.string,null)})})}else{T(aN,{string:null})}};this.normalizeStringAsync=function(aN,aO,aM){if(a.isFullStr(aN)){this.requestData("string:normalize:"+aN,function(aP){T(aM,{string:W(aP.string,aO)})})}else{T(aM,{string:null})}};this.transformUrl=function(aM){return m.transformUrl(aM)};this.createHashKey=function(aM,aN){return m.createHashKey(aM,aN)};this.clearDeviceId=function(){m.clearDeviceId()};this.getDeviceId=function(aM){return m.getDeviceId(aM)};this.requestDeviceId=function(aM){this.requestData("info:extended",function(aN){if(aN.error!=null){T(aM,{error:aN.error})}else{T(aM,{deviceId:m.getDeviceId(aN)})}})};this.hasContentObservers=function(){return aH.hasObservers()};this.addContentObserver=function(aM,aN){aH.addObserver(aM,aN);aa(aM)};this.removeContentObserver=function(aM){aH.removeObserver(aM);aa()};this.clearContentObservers=function(){aH.clear();aa()};this.init=function(){if(!ah){aw();
M()}};this.isInitialized=function(){return ah};this.isReady=function(){return aA};this.startLoading=function(aM){if(aA){if(P){R("interaction:busy:start:interaction")}else{if(!ar.isBusy()||aM!==false){ar.start(function(){P=true;R("interaction:busy:start:interaction")})}}}};this.stopLoading=function(){if(aA){ar.stop();if(P){P=false;R("interaction:busy:stop:interaction")}}};this.executeHandler=function(aM,aO){if(typeof aM=="function"){try{if(aO!=null){T(aO,aM())}else{aM()}}catch(aN){ad("Execute handler failed",aN);if(aO!=null){T(aO,null)}}}}};return{Settings:k,Styles:l,Tools:a,DateTools:g,DateFormatter:F,PropertyTools:D,VideoState:y,Action:f,Cookies:H,Storage:d,UrlParams:A,Options:e,Observers:h,EventObservers:G,Queue:w,Worker:c,Delay:n,Click:C,Ajax:j,LogLevel:r,Logger:u,Dictionary:p,Clock:i,DataLoader:t,Services:z,DataService:B,BlobService:q,RequestService:v,BusyService:b,PluginTools:s,VideoPlugin:E,InteractionPlugin:x}}));