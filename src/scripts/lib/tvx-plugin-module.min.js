/*
 * TVX Plugin v0.0.40 (Module)
 * (c) 2020 Benjamin Zachey
 * Compatibility: AMD and CommonJS
 */
(function(a,b){if(typeof define=="function"&&define.amd){define([],b)}else{if(typeof module=="object"&&module.exports){module.exports=b()}else{a.tvx=b()}}}(this,function(){var k={NAME:"TVX Framework",SHORTCUT:"TVX",VERSION:"0.1.17",DUMMY_DATE:null,TIME_OFFSET:0,TIME_ZONE_OFFSET:0,ANIMATION_DURATION:300,ANIMATION_EASE:"easeOutQuad",SCREEN_WIDTH:1280,SCREEN_HEIGHT:720,SCREEN_FACTOR:1,ZOOM_FACTOR:1,PLATFORM:null,ANIMATE:0,TRANSFORM:0,INPUT:0,REMOTE:0,LAYOUT:null,SCALE:null,ZOOM:null,CENTER:0,BACKGROUND:0,EXIT:0,BACK:0,VOLUME:0,BUSY:0,SPEED:0,PLAYBACK:0,FULLSCREEN:0,APP:null};var E={COMMON:{IMAGE:{DEFAULT:"img/default.png"},ICON:{DEFAULT:"blank"},TEXT:{DEFAULT:""},COLOR:{WHITE:"rgb(255,255,255)",WHITE_SOFT:"rgba(255,255,255,0.5)",BLACK:"rgb(0,0,0)",BLACK_SOFT:"rgba(0,0,0,0.5)",GRAY:"rgb(51,51,51)",GRAY_SOFT:"rgba(51,51,51,0.5)",RED:"rgb(201,48,44)",GREEN:"rgb(68,157,68)",YELLOW:"rgb(236,151,31)",BLUE:"rgb(49,176,213)",GLASS:"rgba(255,255,255,0.1)"},CSS:{CLASS_SELECTED:"selected",CLASS_TRIGGER:"trigger",CLASS_FOCUSED:"focused",CLASS_DISABLED:"disabled",CLASS_INVALIDATED:"invalidated",CLASS_HOVER:"hover",CLASS_ROOT:"tvx-root",CLASS_TOP_LAYER:"tvx-top-layer",CLASS_BOTTOM_LAYER:"tvx-bottom-layer",CLASS_FULLSCREEN:"tvx-fullscreen",CLASS_VIDEO:"tvx-video",CLASS_VIDEO_ON:"tvx-video-on",CLASS_CENTER_OFF:"tvx-center-off",CLASS_BACKGROUND_OFF:"tvx-background-off",CLASS_CLICK_THROUGH:"tvx-click-through",CLASS_FILLER:"tvx-filler",CLASS_FILLER_WIDTH_TOP:"tvx-filler-width-top",CLASS_FILLER_WIDTH_BOTTOM:"tvx-filler-width-bottom",CLASS_FILLER_WIDTH_CENTER:"tvx-filler-width-center",CLASS_FILLER_HEIGHT_LEFT:"tvx-filler-height-left",CLASS_FILLER_HEIGHT_RIGHT:"tvx-filler-height-right",CLASS_FILLER_HEIGHT_CENTER:"tvx-filler-height-center",CLASS_FILLER_FIT:"tvx-filler-fit",CLASS_FILLER_COVER:"tvx-filler-cover",CLASS_FILLER_SMART:"tvx-filler-smart",CLASS_ICON:"tvx-icon tvx-icon-{ICON}",CLASS_ICON_INLINE:"tvx-icon-inline tvx-icon-{ICON}",CLASS_TEXT:"tvx-text",CLASS_TEXT_INLINE:"tvx-text-inline"},HTML:{BREAK:"<br/>",SPACE:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;",CANVAS:"<canvas class='{CLASS}' width='{WIDTH}' height='{HEIGHT}'></canvas>",IFRAME:"<iframe class='{CLASS}' frameBorder='0' scrolling='no' allow='autoplay *;encrypted-media *' src='{SRC}'></iframe>",ICON:"<i class='{CLASS}'></i>",ICON_STYLED:"<i class='{CLASS}' style='{STYLE}'></i>",TEXT:"<span class='{CLASS}'>{TEXT}</span>",TEXT_STYLED:"<span class='{CLASS}' style='{STYLE}'>{TEXT}</span>",TEXT_START:"<span class='{CLASS}'>",TEXT_START_STYLED:"<span class='{CLASS}' style='{STYLE}'>",TEXT_END:"</span>"}},LOGGER:{CSS:{CLASS_DEBUG:"tvx-debug",CLASS_INFO:"tvx-info",CLASS_WARN:"tvx-warn",CLASS_ERROR:"tvx-error"},HTML:{LINE:"<span class='{LEVEL}'>{MESSAGE}</span>"}},RENDERER:{CSS:{CLASS_TRANSFORM:"tvx-transform",CLASS_TRANSFORM_ZERO:"tvx-transform-zero",CLASS_TRANSFORM_3D:"tvx-transform-3d",CLASS_TRANSFORM_3D_ZERO:"tvx-transform-3d-zero"},STATE:{SHOW:{visible:true},HIDE:{visible:false},FADE_IN_FROM:{opacity:0},FADE_IN_TO:{opacity:1,visible:true},FADE_OUT_FROM:{opacity:1},FADE_OUT_TO:{opacity:0,visible:false}}},REMOTE:{CSS:{CLASS_BUTTON:"tvx-button",CLASS_SUBCONTROL_LEFT:"tvx-subcontrol-left",CLASS_SUBCONTROL_RIGHT:"tvx-subcontrol-right"}},APP:null};
var B=new function(){var N=/\\/g;var aa=/"/g;var P=/'/g;var au=/\n/g;var ar=/\r/g;var L=/\r\n/g;var ap=/\t/g;var U=/\s/g;var X=/-/g;var Y=/^[A-Za-z0-9._-]+$/;var ai=/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/;var ao=/"(\\.|[^"\\])*"/g;var aq=/^\s+|\s+$/g;var ab=/\s{0,}>\s{0,}/g;var ad=/\s{0,}\/>/g;var ac=/\s{0,}<\s{0,}/g;var af=au;var ae=ar;var ah=/\s{2,}/g;var H=/&/g;var T=aa;var M=P;var Z=/</g;var R=/>/g;var al=/&quot;/g;var ak=/&#39;/g;var aj=/&lt;/g;var an=/&gt;/g;var am=/&amp;/g;var I=/\+/g;var K=/\//g;var J=/=/g;var O=/[^A-Za-z0-9\+\/\=]/g;var Q=X;var ag=/_/g;var av=/,/g;var V=/\./g;var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var W=window.location.protocol==="https:";var at=function(aw,ay){if(aw&&ay){var ax=window.location.pathname;ax=ax.substring(0,ax.lastIndexOf("/"));return window.location.protocol+"//"+window.location.host+ax}else{if(aw){return window.location.protocol+"//"+window.location.host}}return window.location.protocol+"//"};this.createVersion=function(ay){if(this.isFullStr(ay)){var aA=ay.split(".");
if(aA.length==3){var ax=this.strToNum(aA[0],-1);var aw=this.strToNum(aA[1],-1);var az=this.strToNum(aA[2],-1);if(ax>=0&&aw>=0&&az>=0){return{major:ax,minor:aw,patch:az}}}}return null};this.checkVersion=function(az,ay){var ax=this.createVersion(ay);if(ax!=null){var aw=this.createVersion(az);if(aw!=null){if(aw.major==ax.major){if(aw.minor==ax.minor){return aw.patch>=ax.patch}return aw.minor>ax.minor}return aw.major>ax.major}return false}return true};this.createKey=function(aA,ay){if(aA==null){aA=4}if(ay==null){ay=10}var ax="";for(var az=0;az<aA;az++){var aw=0;if(ay==0){aw=Math.round(Math.random()*9)}else{if(ay==1){aw=10+Math.round(Math.random()*51)}else{if(ay==2){aw=10+Math.round(Math.random()*25)}else{if(ay==3){aw=36+Math.round(Math.random()*25)}else{aw=Math.round(Math.random()*61)}}}}if(aw>=0&&aw<=9){ax+=""+aw}if(aw>=10&&aw<=35){ax+=String.fromCharCode(aw+55)}if(aw>=36&&aw<=61){ax+=String.fromCharCode(aw+61)}}return ax};this.isFullStr=function(aw){return aw!=null&&typeof aw=="string"&&aw.length>0
};this.isBool=function(aw){if(aw!=null&&typeof aw=="boolean"){return true}return this.isFullStr(aw)};this.isNum=function(aw){if(aw!=null&&typeof aw=="number"){return true}return this.isFullStr(aw)&&isFinite(aw)};this.isArray=function(aw){if(aw!=null){return Array.isArray(aw)}return false};this.isEmpty=function(ax){if(ax!=null){if(typeof ax=="string"){return ax.length==0}var aw;for(aw in ax){return false}}return true};this.isValid=function(ax,aw){if(ax!=null){if(aw===true){if(typeof ax=="string"){return ax.length>0}}return true}return false};this.isId=function(aw){return this.isFullStr(aw)&&Y.test(aw)};this.isJson=function(aw){return this.isFullStr(aw)&&!ai.test(aw.replace(ao,""))};this.isHttpUrl=function(aw){return this.isFullStr(aw)&&(aw.indexOf("http://")==0||aw.indexOf("https://")==0)};this.strValue=function(aw){if(aw!=null){if(typeof aw=="string"){return aw}else{return""+aw}}return null};this.strFullCheck=function(ax,aw){return this.isFullStr(ax)?ax:aw};this.strTrim=function(aw){return this.isFullStr(aw)?aw.replace(aq,""):""
};this.strClear=function(aw){return this.isFullStr(aw)?aw.replace(U,""):""};this.strTruncate=function(aw,ax){return this.isFullStr(aw)&&ax>0&&aw.length>ax?aw.substr(0,ax)+"...":aw};this.strShuffle=function(aw){return this.isFullStr(aw)?aw.split("").sort(function(){return 0.5-Math.random()}).join(""):""};this.strReplace=function(ax,ay,aw){if(this.isFullStr(ax)&&this.isFullStr(ay)){return ax.replace(ay,function(){return aw!=null?aw:""})}return ax};this.strReplaceMap=function(ax,ay){if(this.isFullStr(ax)&&ay!=null){for(var aw in ay){ax=this.strReplace(ax,aw,ay[aw])}}return ax};this.strToBool=function(ax,aw){if(ax!=null&&typeof ax=="boolean"){return ax}return this.isFullStr(ax)?ax=="true":aw};this.strToNum=function(ax,aw){if(ax!=null&&typeof ax=="number"){return ax}return this.isFullStr(ax)&&isFinite(ax)?ax*1:aw};this.strToAction=function(aw){return this.isFullStr(aw)?aw.toUpperCase().replace(X,"_"):""};this.strToJsonStr=function(aw){return this.isFullStr(aw)?aw.replace(aa,'\\"'):""};this.strToUrlStr=function(aw){return this.isFullStr(aw)?encodeURIComponent(aw):""
};this.strContainsToken=function(ay,az,aw,aA){if(this.isFullStr(ay)&&this.isFullStr(az)){var ax=ay.indexOf(az);if(aw==null){aw=0}if(aA==null){aA=ay.length}return ax>=aw&&ax<aA}return false};this.strCountToken=function(az,aA,ax,aB){var aw=0;if(this.isFullStr(az)&&this.isFullStr(aA)){var ay=0;if(ax!=null&&ax>=0){ay=ax}while(ay>=0&&ay<az.length){ay=az.indexOf(aA,ay);if(ay>=0){ay+=aA.length;if(aB==null||ay<aB){aw++}}}}return aw};this.htmlTrim=function(aw){return this.isFullStr(aw)?this.strTrim(aw.replace(ab,">").replace(ad,"/>").replace(ac,"<").replace(af," ").replace(ae," ").replace(ah," ")):""};this.htmlEscape=function(aw){return this.isFullStr(aw)?aw.replace(H,"&amp;").replace(T,"&quot;").replace(M,"&#39;").replace(Z,"&lt;").replace(R,"&gt;"):""};this.htmlUnescape=function(aw){return this.isFullStr(aw)?aw.replace(al,'"').replace(ak,"'").replace(aj,"<").replace(an,">").replace(am,"&"):""};this.htmlAttrEscape=function(aw){return this.isFullStr(aw)?aw.replace(T,"&quot;").replace(M,"&#39;"):""
};this.htmlAttrUnescape=function(aw){return this.isFullStr(aw)?aw.replace(al,'"').replace(ak,"'"):""};this.htmlTextEscape=function(aw){return this.isFullStr(aw)?this.htmlEscape(aw).replace(au,E.COMMON.HTML.BREAK).replace(ap,E.COMMON.HTML.TAB):""};this.base64Encode=function(aE){var az="";if(this.isFullStr(aE)){var aF,aA,aC;var ay,aD,ax,aB;var aw=0;aE=this.utf8Encode(aE);while(aw<aE.length){aF=aE.charCodeAt(aw++);aA=aE.charCodeAt(aw++);aC=aE.charCodeAt(aw++);ay=aF>>2;aD=((aF&3)<<4)|(aA>>4);ax=((aA&15)<<2)|(aC>>6);aB=aC&63;if(isNaN(aA)){ax=aB=64}else{if(isNaN(aC)){aB=64}}az+=S.charAt(ay)+S.charAt(aD)+S.charAt(ax)+S.charAt(aB)}}return az};this.base64EncodeUrl=function(aw){return this.isFullStr(aw)?this.base64Encode(aw).replace(I,"-").replace(K,"_").replace(J,","):""};this.base64EncodeId=function(aw){return this.isFullStr(aw)?this.base64Encode(aw).replace(I,"-").replace(K,"_").replace(J,"."):""};this.base64Decode=function(aE){var az="";if(this.isFullStr(aE)){var aF,aA,aC;var ay,aD,ax,aB;var aw=0;
aE=aE.replace(O,"");while(aw<aE.length){ay=S.indexOf(aE.charAt(aw++));aD=S.indexOf(aE.charAt(aw++));ax=S.indexOf(aE.charAt(aw++));aB=S.indexOf(aE.charAt(aw++));aF=(ay<<2)|(aD>>4);aA=((aD&15)<<4)|(ax>>2);aC=((ax&3)<<6)|aB;az+=String.fromCharCode(aF);if(ax!=64){az+=String.fromCharCode(aA)}if(aB!=64){az+=String.fromCharCode(aC)}}}return this.utf8Decode(az)};this.base64DecodeUrl=function(aw){return this.isFullStr(aw)?this.base64Decode(aw.replace(Q,"+").replace(ag,"/").replace(av,"=")):""};this.base64DecodeId=function(aw){return this.isFullStr(aw)?this.base64Decode(aw.replace(Q,"+").replace(ag,"/").replace(V,"=")):""};this.utf8Encode=function(az){var ax="";if(this.isFullStr(az)){az=az.replace(L,"\n");for(var aw=0;aw<az.length;aw++){var ay=az.charCodeAt(aw);if(ay<128){ax+=String.fromCharCode(ay)}else{if((ay>127)&&(ay<2048)){ax+=String.fromCharCode((ay>>6)|192);ax+=String.fromCharCode((ay&63)|128)}else{ax+=String.fromCharCode((ay>>12)|224);ax+=String.fromCharCode(((ay>>6)&63)|128);ax+=String.fromCharCode((ay&63)|128)
}}}}return ax};this.utf8Decode=function(aA){var ax="";if(this.isFullStr(aA)){var aB=0;var ay,az,aC,aw;ay=az=aC=aw=0;while(aB<aA.length){ay=aA.charCodeAt(aB);if(ay<128){ax+=String.fromCharCode(ay);aB++}else{if((ay>191)&&(ay<224)){aC=aA.charCodeAt(aB+1);ax+=String.fromCharCode(((ay&31)<<6)|(aC&63));aB+=2}else{aC=aA.charCodeAt(aB+1);aw=aA.charCodeAt(aB+2);ax+=String.fromCharCode(((ay&15)<<12)|((aC&63)<<6)|(aw&63));aB+=3}}}}return ax};this.createHash=function(ax){var aw=0;if(this.isFullStr(ax)){for(var ay=0;ay<ax.length;ay++){aw=((aw<<5)-aw)+ax.charCodeAt(ay);aw&=aw}}return aw};this.serialize=function(aw,aA){if(aw===undefined){return null}if(aw===null){if(aA!=null){return'"'+aA+'":null'}else{return"null"}}var aB=null;var ay=typeof aw;if(Array.isArray(aw)){aB="[";var az=0;for(var aD=0;aD<aw.length;aD++){var ax=this.serialize(aw[aD]);if(ax!=null){if(az>0){aB+=","}aB+=ax;az++}}aB+="]"}else{if(ay=="object"){aB="{";var az=0;for(var aC in aw){var ax=this.serialize(aw[aC],aC);if(ax!=null){if(az>0){aB+=","
}aB+=ax;az++}}aB+="}"}else{if(ay=="string"){aB='"'+aw.replace(N,"\\\\").replace(aa,'\\"').replace(au,"\\n")+'"'}else{if(ay=="number"||ay=="boolean"){aB=""+aw}}}}if(aB!=null){if(aA!=null){return'"'+aA+'":'+aB}else{return aB}}return null};this.deserialize=function(aw){try{if(window.JSON!=null&&typeof JSON.parse=="function"){return this.isFullStr(aw)?JSON.parse(aw):null}else{return this.isJson(aw)?new Function("return "+aw)():null}}catch(ax){return null}};this.isSecureContext=function(){return W};this.secureUrl=function(aw){return this.isFullStr(aw)?aw.replace("http://","https://"):aw};this.getPrefixUrl=function(aw){return at(false,false)+this.strFullCheck(aw,"")};this.getHostUrl=function(aw){return at(true,false)+"/"+this.strFullCheck(aw,"")};this.getPathUrl=function(aw){return at(true,true)+"/"+this.strFullCheck(aw,"")};this.getAbsoluteUrl=function(aw){if(this.isFullStr(aw)&&!this.isHttpUrl(aw)){if(aw.indexOf("/")==0){return at(true,false)+aw}else{return at(true,true)+"/"+aw}}return aw};
this.getRootPath=function(aw,aA){if(this.isFullStr(aw)){var az=window.location.pathname;var ay=az.indexOf(aw);if(ay>0){var ax=az.substr(0,ay);if(aA===true){if(ax.indexOf("/")==0){ax=ax.substr(1)}if(ax.lastIndexOf("/")==ax.length-1){ax=ax.substr(0,ax.length-1)}}else{if(ax.indexOf("/")!=0){ax="/"+ax}if(ax.lastIndexOf("/")!=ax.length-1){ax+="/"}}return ax}}return aA===true?"":"/"};this.exprEscape=function(aD,aC,aI,aJ,aE,aH,az){if(this.isFullStr(aD)&&typeof aJ=="function"){if(this.isFullStr(aC)&&this.isFullStr(aI)&&typeof aE=="function"){if(aD.indexOf(aC)>=0&&aD.indexOf(aI)>=0){var aw="";var ax=aC.length;var aB=aI.length;var aF=aD.length;var aG=0;var aA=0;var ay=0;while(aA>=0){aA=aD.indexOf(aC,aG);if(aA>=0){ay=aD.indexOf(aI,aA);if(ay>0){if(aG<aA){aw+=aJ(aD.substring(aG,aA),az)}if(aA+ax<ay){aw+=aE(aD.substring(aA+ax,ay),az)}aG=ay+aB}else{aG=aA;break}}}if(aG<aF){aw+=aJ(aD.substring(aG,aF),az)}if(typeof aH=="function"){aw+=aH(az)}return aw}}return aJ(aD,az)}return""}};var q=new function(){var L="h:mm/ampm";
var P="h:mm:ss/ampm";var H="mm/dd/yy";var J="MM d, yyyy";var R="D mm/dd";var I="D mm/dd/yyyy";var N="DD, MM d, yyyy";var Y=["Son","Mon","Tue","Wed","Thu","Fri","Sat"];var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var S=["January","February","March","April","May","June","July","August","September","October","November","December"];var T=" AM";var Q=" PM";var V=" day";var U=" days";var Z=" hr";var M=" min";var K=" sec";var W=function(ab){var ad=ab%10;var ac=ab%100;if(ad==1&&ac!=11){return"st"}if(ad==2&&ac!=12){return"nd"}if(ad==3&&ac!=13){return"rd"}return"th"};var aa=function(ad,ae,ab){if(ae.length==ab){for(var ac=0;ac<ab;ac++){ad[ac]=B.strTrim(ae[ac])}}else{for(var ac=0;ac<ab;ac++){ad[ac]=""}}};this.applyDictionary=function(af){if(af!=null){L=af.getValueForKey("TIME_FORMAT","");P=af.getValueForKey("TIME_LONG_FORMAT","");H=af.getValueForKey("DATE_FORMAT","");J=af.getValueForKey("DATE_LONG_FORMAT","");
R=af.getValueForKey("DAY_FORMAT","");I=af.getValueForKey("DAY_LONG_FORMAT","");N=af.getValueForKey("DAY_FULL_FORMAT","");T=af.getValueForKey("UNIT_AM");Q=af.getValueForKey("UNIT_PM");V=af.getValueForKey("UNIT_DAY");U=af.getValueForKey("UNIT_DAYS");Z=af.getValueForKey("UNIT_HOURS");M=af.getValueForKey("UNIT_MINUTES");K=af.getValueForKey("UNIT_SECONDS");var ae=af.getValueForKey("DAY_NAMES","").split(",");var ac=af.getValueForKey("DAY_LONG_NAMES","").split(",");var ab=af.getValueForKey("MONTH_NAMES","").split(",");var ad=af.getValueForKey("MONTH_LONG_NAMES","").split(",");aa(Y,ae,7);aa(O,ac,7);aa(X,ab,12);aa(S,ad,12)}};this.getTimestamp=function(){return new Date().getTime()};this.getNow=function(){var ab=new Date();if(k.DUMMY_DATE!=null){ab=new Date(k.DUMMY_DATE.getFullYear(),k.DUMMY_DATE.getMonth(),k.DUMMY_DATE.getDate(),ab.getHours(),ab.getMinutes(),ab.getSeconds())}if(k.TIME_OFFSET!=null&&k.TIME_OFFSET!=0){if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ab.getTime()+k.TIME_OFFSET+k.TIME_ZONE_OFFSET)
}else{return new Date(ab.getTime()+k.TIME_OFFSET)}}else{if(k.TIME_ZONE_OFFSET!=null&&k.TIME_ZONE_OFFSET!=0){return new Date(ab.getTime()+k.TIME_ZONE_OFFSET)}}return ab};this.getFormattedDateStr=function(ar,ap,ab,am,ao){var ae=0;var af=0;var an=0;var ag=0;var ai=0;if(ar==null){ar=new Date(ab,am,ao)}if(typeof ar=="number"){ar=new Date(ar)}ae=ar.getDate();af=ar.getDay();an=ar.getMonth()+1;ag=ar.getMonth();ai=ar.getYear()+1900;var at=ap.replace("ddd",ae+W(ae)).replace("dd",(ae<10?"0":"")+ae).replace("mm",((an<10)?"0":"")+an).replace("yyyy",ai).replace("d",ae).replace("m",an).replace("yy",(""+ai).substring(2,4));var ad=at.indexOf("D");var al=at.indexOf("DD");var ak=at.indexOf("M");var ac=at.indexOf("MM");if(al>=0&&ak<0){return at.replace("DD",O[af])}else{if(ad>=0&&ak<0){return at.replace("D",Y[af])}else{if(ac>=0&&ad<0){return at.replace("MM",S[ag])}else{if(ak>=0&&ad<0){return at.replace("M",X[ag])}else{if(ad>=0&&ak>=0){var ah=null;var aq=null;var aj=null;if(al>=0){ah=at.substring(0,al);aq=O[af];
aj=at.substring(al+2,at.length)}else{if(ad>=0){ah=at.substring(0,ad);aq=Y[af];aj=at.substring(ad+1,at.length)}}if(ad>ak){if(ah.indexOf("MM")>=0){ah=ah.replace("MM",S[ag])}else{if(ah.indexOf("M")>=0){ah=ah.replace("M",X[ag])}}}else{if(aj.indexOf("MM")>=0){aj=aj.replace("MM",S[ag])}else{if(aj.indexOf("M")>=0){aj=aj.replace("M",X[ag])}}}return ah+aq+aj}}}}}return at};this.getDayStr=function(ad,ac,ab,ae){return this.getFormattedDateStr(ad,R,ac,ab,ae)};this.getDayLongStr=function(ad,ac,ab,ae){return this.getFormattedDateStr(ad,I,ac,ab,ae)};this.getDayFullStr=function(ad,ac,ab,ae){return this.getFormattedDateStr(ad,N,ac,ab,ae)};this.getDateStr=function(ad,ac,ab,ae){return this.getFormattedDateStr(ad,H,ac,ab,ae)};this.getDateLongStr=function(ad,ac,ab,ae){return this.getFormattedDateStr(ad,J,ac,ab,ae)};this.getFormattedTimeStr=function(ad,aj,ak,ae,af){var ai=0;var ag=0;var ab=0;if(ad==null){ai=ak!=null?ak*1:0;ag=ae!=null?ae*1:0;ab=af!=null?af*1:0}else{if(typeof ad=="number"){ad=new Date(ad)}ai=ad.getHours();
ag=ad.getMinutes();ab=ad.getSeconds()}var ah=null;var ac=aj.indexOf("/ampm");if(ac>0){aj=aj.substr(0,ac);ah=T;if(ai>12){ah=Q;ai-=12}}return aj.replace("hh",(ai<10?"0":"")+ai).replace("mm",(ag<10?"0":"")+ag).replace("ss",(ab<10?"0":"")+ab).replace("h",ai).replace("m",ag).replace("s",ab)+(ah!=null?ah:"")};this.getTimeStr=function(ad,ae,ab,ac){return this.getFormattedTimeStr(ad,L,ae,ab,ac)};this.getTimeLongStr=function(ad,ae,ab,ac){return this.getFormattedTimeStr(ad,P,ae,ab,ac)};this.getRecordingStr=function(ab){if(typeof ab=="number"){ab=new Date(ab)}return this.getDayLongStr(ab)+", "+this.getTimeStr(ab)};this.getFormattedDurationStr=function(ac,af){var ab=Math.floor(ac/3600000);var ae=Math.floor((ac%3600000)/60000);var ad=Math.floor((ac%60000)/1000);af=B.exprEscape(af,"[","]",function(ag){return ag},function(ag){if(ag.indexOf("h")==0||ag.indexOf("H")==0){return ab>0?ag:""}else{if(ag.indexOf("m")==0||ag.indexOf("M")==0){return ab>0||ae>0?ag:""}else{if(ag.indexOf("s")==0||ag.indexOf("S")==0){return ab>0||ae>0||ad>0?ag:""
}}}});return af.replace("H","h").replace("M",(ab>0?"mm":"m")).replace("S",(ab>0||ae>0?"ss":"s")).replace("hh",(ab<10?"0":"")+ab).replace("mm",((ae<10)?"0":"")+ae).replace("ss",((ad<10)?"0":"")+ad).replace("h",ab).replace("m",ae).replace("s",ad)};this.getDurationStr=function(ag,ar){if(ar==null){ar="dhms"}var aq=ar.indexOf("D")!=-1;var aj=ar.indexOf("H")!=-1;var an=ar.indexOf("M")!=-1;var ap=ar.indexOf("S")!=-1;ar=ar.toLowerCase();var am=ar.indexOf("d")!=-1;var ae=ar.indexOf("h")!=-1;var ab=ar.indexOf("m")!=-1;var ad=ar.indexOf("s")!=-1;if(ar.indexOf("~")==0){if(ag<60000){if(ad){ar="s"}}else{if(ag<3600000){if(ab){ar="m"}else{if(ad){ar="s"}}}else{if(ag<86400000){if(ae){ar="h"}else{if(ab){ar="m"}else{if(ad){ar="s"}}}}else{if(am){ar="d"}else{if(ae){ar="h"}else{if(ab){ar="m"}else{if(ad){ar="s"}}}}}}}}if(ar=="d"){var ak=Math.round(ag/86400000);return ak==1?ak+V:ak+U}if(ar=="h"){return Math.round(ag/3600000)+Z}if(ar=="m"){return Math.round(ag/60000)+M}if(ar=="s"){return Math.round(ag/1000)+K}var af=ag;
var ao=ae||ab||ad;var ak=am?(ao?Math.floor(af/86400000):Math.ceil(af/86400000)):0;if(am){af=ag%86400000}ao=ab||ad;var al=ae?(ao?Math.floor(af/3600000):Math.ceil(af/3600000)):0;if(ae){af=ag%3600000}ao=ad;var ah=ab?(ao?Math.floor(af/60000):Math.ceil(af/60000)):0;if(ab){af=ag%60000}var ac=ad?Math.floor(af/1000):0;var ai="";if(am&&(ak>0||aq)){ai+=ak+(ak==1?V:U)}if(ae&&(al>0||aj)){if(ai.length>0){ai+=" "}ai+=al+Z}if(ab&&(ah>0||an)){if(ai.length>0){ai+=" "}ai+=ah+M}if(ad&&(ac>0||ap)){if(ai.length>0){ai+=" "}ai+=ac+K}if(ad&&ai.length==0){return ac+K}if(ab&&ai.length==0){return ah+M}if(ae&&ai.length==0){return al+Z}return ai};this.getVideoStr=function(ad,ae){if(ae==null){ae=3}var ac=ae>2?Math.floor(ad/3600000):0;var af=ae>1?Math.floor((ad%3600000)/60000):0;var ab=ae>0?Math.floor(ad%60000/1000):0;if(ae>2){return(ac<10?"0":"")+ac+":"+(af<10?"0":"")+af+":"+(ab<10?"0":"")+ab}else{if(ae>1){return(af<10?"0":"")+af+":"+(ab<10?"0":"")+ab}else{if(ae>0){return(ab<10?"0":"")+ab}}}return""}};var y=new function(){this.toTimeStr=function(H){return q.getTimeStr(H)
};this.toTimeLongStr=function(H){return q.getTimeLongStr(H)};this.toTimeDayStr=function(H){return q.getFormattedDateStr(H,"D")+", "+q.getTimeStr(H)};this.toTimeDayLongStr=function(H){return q.getFormattedDateStr(H,"D")+", "+q.getTimeLongStr(H)};this.toDayStr=function(H){return q.getDayStr(H)};this.toDayLongStr=function(H){return q.getDayLongStr(H)};this.toDayFullStr=function(H){return q.getDayFullStr(H)};this.toDateStr=function(H){return q.getDateStr(H)};this.toDateLongStr=function(H){return q.getDateLongStr(H)};this.toRecordingStr=function(H){return q.getRecordingStr(H)};this.toDayTimeStr=function(H){return q.getDayStr(H)+", "+q.getTimeStr(H)};this.toDayTimeLongStr=function(H){return q.getDayLongStr(H)+", "+q.getTimeStr(H)};this.toDayTimeFullStr=function(H){return q.getDayFullStr(H)+", "+q.getTimeStr(H)};this.toDateTimeStr=function(H){return q.getDateStr(H)+", "+q.getTimeStr(H)};this.toDateTimeLongStr=function(H){return q.getDateLongStr(H)+", "+q.getTimeStr(H)}};var d=new function(){this.foreach=function(L,I){if(L!=null&&L.properties!=null&&typeof I=="function"){var K=L.properties;
for(var H in K){var J=K[H];if(J!=null){if(J.key!=null){if(J.value!=null){if(I(J.key,J.value)===true){break}}}else{if(I(H,J)===true){break}}}}}};this.getValue=function(L,I,H){if(B.isFullStr(I)){var J=false;var K=null;this.foreach(L,function(N,M){if(!J&&I==N){J=true;K=M;return true}});if(J){return K}}return H!=null?H:null};this.get=function(J,I,H){return B.strValue(this.getValue(J,I,H))};this.getFullStr=function(J,I,H){return B.strFullCheck(this.getValue(J,I),H)};this.getNum=function(J,I,H){return B.strToNum(this.getValue(J,I),H)};this.getBool=function(J,I,H){return B.strToBool(this.getValue(J,I),H)};this.has=function(J,I,H){return B.isValid(this.getValue(J,I),H)};this.put=function(N,J,I){if(N!=null&&N.properties!=null&&B.isFullStr(J)&&I!=null){var H=false;var L=N.properties;for(var M in L){var K=L[M];if(!H&&K!=null){if(K.key==J){H=true;K.value=I;break}}}if(!H){if(Array.isArray(N.properties)){N.properties.push({key:J,value:I})}else{N.properties[J]=I}}}};this.remove=function(M,I){if(M!=null&&M.properties!=null&&B.isFullStr(I)){var H=false;
var K=M.properties;for(var L in K){var J=K[L];if(!H&&J!=null){if(J.key==I){H=true;J.value=null;break}}}if(!H&&!Array.isArray(M.properties)){M.properties[I]=null}}};this.clear=function(H){if(H!=null&&H.properties!=null){H.properties={}}}};var l={STOPPED:1,PLAYING:2,PAUSED:3};var x={LEFT:1,RIGHT:2,UP:3,DOWN:4,EXECUTE:5,EXIT:6,BACK:7,MENU:10,GUIDE:11,OPTIONS:12,INFO:13,CLEAR:14,CHANNEL_LIST:15,SETTINGS:16,SEARCH:17,PLAY:30,PAUSE:31,STOP:32,NEXT_TRACK:33,PREVIOUS_TRACK:34,TOGGLE_PLAY_PAUSE:35,FORWARD:36,REWIND:37,RECORD:38,RESTART:39,MUTE:40,UNMUTE:41,TOGGLE_MUTE:42,CHANNEL_UP:70,CHANNEL_DOWN:71,VOLUME_UP:72,VOLUME_DOWN:73,RED:74,GREEN:75,YELLOW:76,BLUE:77,KEY_0:80,KEY_1:81,KEY_2:82,KEY_3:83,KEY_4:84,KEY_5:85,KEY_6:86,KEY_7:87,KEY_8:88,KEY_9:89,POWER:99,SYSTEM:100,CURSOR_ON:200,CURSOR_OFF:201,SCROLL_UP:300,SCROLL_DOWN:301,SWIPE_LEFT:400,SWIPE_RIGHT:401,SWIPE_UP:402,SWIPE_DOWN:403,SLEEP:500,WAKE_UP:501,DEBUG:999,UNKNOWN:-1,actionToStr:function(H){switch(H){case this.LEFT:return"Left";case this.RIGHT:return"Right";
case this.UP:return"Up";case this.DOWN:return"Down";case this.EXECUTE:return"Execute";case this.EXIT:return"Exit";case this.BACK:return"Back";case this.MENU:return"Menu";case this.GUIDE:return"Guide";case this.OPTIONS:return"Options";case this.INFO:return"Info";case this.CLEAR:return"Clear";case this.CHANNEL_LIST:return"Channel-List";case this.SETTINGS:return"Settings";case this.SEARCH:return"Search";case this.PLAY:return"Play";case this.PAUSE:return"Pause";case this.STOP:return"Stop";case this.NEXT_TRACK:return"Next-Track";case this.PREVIOUS_TRACK:return"Previous-Track";case this.FORWARD:return"Forward";case this.REWIND:return"Rewind";case this.RECORD:return"Record";case this.RESTART:return"Restart";case this.TOGGLE_PLAY_PAUSE:return"Toggle-Play-Pause";case this.MUTE:return"Mute";case this.UNMUTE:return"Unmute";case this.TOGGLE_MUTE:return"Toggle-Mute";case this.CHANNEL_UP:return"Channel-Up";case this.CHANNEL_DOWN:return"Channel-Down";case this.VOLUME_UP:return"Volume-Up";case this.VOLUME_DOWN:return"Volume-Down";
case this.RED:return"Red";case this.GREEN:return"Green";case this.YELLOW:return"Yellow";case this.BLUE:return"Blue";case this.KEY_0:return"Key-0";case this.KEY_1:return"Key-1";case this.KEY_2:return"Key-2";case this.KEY_3:return"Key-3";case this.KEY_4:return"Key-4";case this.KEY_5:return"Key-5";case this.KEY_6:return"Key-6";case this.KEY_7:return"Key-7";case this.KEY_8:return"Key-8";case this.KEY_9:return"Key-9";case this.POWER:return"Power";case this.SYSTEM:return"System";case this.CURSOR_ON:return"Cursor-On";case this.CURSOR_OFF:return"Cursor-Off";case this.SCROLL_UP:return"Scroll-Up";case this.SCROLL_DOWN:return"Scroll-Down";case this.SWIPE_LEFT:return"Swipe-Left";case this.SWIPE_RIGHT:return"Swipe-Right";case this.SWIPE_UP:return"Swipe-Up";case this.SWIPE_DOWN:return"Swipe-Down";case this.SLEEP:return"Sleep";case this.WAKE_UP:return"Wake-Up";case this.DEBUG:return"Debug"}return"Unknown"},strToAction:function(I){var H=this[B.strToAction(I)];return H!=null?H:this.UNKNOWN},isNavigationAction:function(H){return H==this.LEFT||H==this.RIGHT||H==this.UP||H==this.DOWN||H==this.SCROLL_UP||H==this.SCROLL_DOWN||H==this.SWIPE_LEFT||H==this.SWIPE_RIGHT||H==this.SWIPE_UP||H==this.SWIPE_DOWN
},isBaseAction:function(H){return H==this.EXECUTE||H==this.BACK||this.isNavigationAction(H)},isVideoAction:function(H){return H==this.PLAY||H==this.PAUSE||H==this.STOP||H==this.TOGGLE_PLAY_PAUSE||H==this.FORWARD||H==this.REWIND||H==this.RESTART},isChannelAction:function(H){return H==this.CHANNEL_UP||H==this.CHANNEL_DOWN},isVolumeAction:function(H){return H==this.VOLUME_UP||H==this.VOLUME_DOWN||H==this.MUTE||H==this.UNMUTE||H==this.TOGGLE_MUTE},isNumberAction:function(H){return H==this.KEY_0||H==this.KEY_1||H==this.KEY_2||H==this.KEY_3||H==this.KEY_4||H==this.KEY_5||H==this.KEY_6||H==this.KEY_7||H==this.KEY_8||H==this.KEY_9},isColorAction:function(H){return H==this.RED||H==this.GREEN||H==this.YELLOW||H==this.BLUE}};function w(){var H="Thu, 01 Jan 1970 00:00:01 GMT";this.set=function(J,M,L){if(B.isFullStr(J)&&M!=null){var K=encodeURIComponent(M);if(L!=null){var I=L;if(typeof L=="number"){I=new Date();I.setTime(I.getTime()+L)}if(typeof I.toGMTString=="function"){I=I.toGMTString()}K+=";expires="+I+";"
}document.cookie=encodeURIComponent(J)+"="+K}};this.get=function(I,N){if(B.isFullStr(I)){var K=document.cookie.split(";");for(var M=0;M<K.length;M++){var J=K[M];var L=J.indexOf("=");if(L>0){if(I==decodeURIComponent(B.strTrim(J.substr(0,L)))){return decodeURIComponent(J.substr(L+1))}}}}return N!=null?N:null};this.getFullStr=function(I,J){return B.strFullCheck(this.get(I),J)};this.getNum=function(I,J){return B.strToNum(this.get(I),J)};this.getBool=function(I,J){return B.strToBool(this.get(I),J)};this.has=function(I,J){return B.isValid(this.get(I),J)};this.foreach=function(O){if(typeof O=="function"){var K=document.cookie.split(";");for(var M=0;M<K.length;M++){var J=K[M];var I=J.indexOf("=");if(I>0){var N=decodeURIComponent(B.strTrim(J.substr(0,I)));var L=decodeURIComponent(J.substr(I+1));if(O(N,L)===true){break}}}}};this.remove=function(I){if(B.isFullStr(I)){this.set(I,"",H)}};this.clear=function(){var I=this;this.foreach(function(J){I.set(J,"",H)})}}function p(){var J="exp:";var I=new w();
var H=function(L,M){if(M!=null){M*=1;return M>=0&&M<L}return false};var K=function(){if(window.localStorage!=null){var N=[];var O=q.getTimestamp();for(var M=0;M<localStorage.length;M++){var L=localStorage.key(M);if(L!=null&&L.indexOf(J)==0){if(H(O,localStorage.getItem(L))){N.push(L.substr(J.length))}}}for(var M=0;M<N.length;M++){localStorage.removeItem(N[M]);localStorage.removeItem(J+N[M])}}};this.set=function(L,O,N){if(B.isFullStr(L)&&O!=null){if(window.localStorage!=null){var M=-1;if(N!=null){if(typeof N=="number"){M=new Date().getTime()+N}else{if(typeof N=="string"){M=new Date(N).getTime()}else{if(typeof N.getTime=="function"){M=N.getTime()}}}}localStorage.setItem(L,O);if(M>=0){localStorage.setItem(J+L,M)}else{localStorage.removeItem(J+L)}}else{I.set(L,O,N)}}};this.get=function(L,O){if(B.isFullStr(L)){if(window.localStorage!=null){var N=false;var M=localStorage.getItem(J+L);if(M!=null){if(H(q.getTimestamp(),M)){N=true;localStorage.removeItem(L);localStorage.removeItem(J+L)}}if(!N){var P=localStorage.getItem(L);
if(P!=null){return P}}}else{return I.get(L,O)}}return O!=null?O:null};this.getFullStr=function(L,M){return B.strFullCheck(this.get(L),M)};this.getNum=function(L,M){return B.strToNum(this.get(L),M)};this.getBool=function(L,M){return B.strToBool(this.get(L),M)};this.has=function(L,M){return B.isValid(this.get(L),M)};this.foreach=function(N){if(typeof N=="function"){if(window.localStorage!=null){K();for(var M=0;M<localStorage.length;M++){var L=localStorage.key(M);if(L!=null&&L.indexOf(J)!=0){if(N(L,localStorage.getItem(L))===true){break}}}}else{I.foreach(N)}}};this.remove=function(L){if(B.isFullStr(L)){if(window.localStorage!=null){localStorage.removeItem(L);localStorage.removeItem(J+L)}else{I.remove(L)}}};this.clear=function(){if(window.localStorage!=null){localStorage.clear()}else{I.clear()}}}function f(I){var H=null;this.set=function(J,K){if(B.isFullStr(J)&&K!=null){if(H==null){H={}}H[J]=K}};this.get=function(J,K){if(H!=null&&B.isFullStr(J)&&H[J]!=null){return H[J]}return K!=null?K:null
};this.getFullStr=function(J,K){return B.strFullCheck(this.get(J),K)};this.getNum=function(J,K){return B.strToNum(this.get(J),K)};this.getBool=function(J,K){return B.strToBool(this.get(J),K)};this.has=function(J,K){return B.isValid(this.get(J),K)};this.foreach=function(K){if(typeof K=="function"){if(H!=null){for(var J in H){if(K(J,H[J])===true){break}}}}};this.remove=function(J){if(H!=null&&B.isFullStr(J)){delete H[J]}};this.clear=function(){H={}};this.create=function(N){var M={};if(B.isFullStr(N)){var Q=N.indexOf("?");if(Q>=0){var L=N.substr(Q+1).split("&");for(var J=0;J<L.length;J++){var O=L[J];if(B.isFullStr(O)){var K=O.indexOf("=");if(K>0){var P=O.substr(0,K);var R=O.substr(K+1);M[decodeURIComponent(P)]=decodeURIComponent(R)}else{M[decodeURIComponent(O)]=""}}}}}return M};this.build=function(M,L){var N=0;var J="";if(H!=null){for(var K in H){var O=B.strValue(H[K]);if(N>0){J+=(L!=null?L:"&")}if(B.isFullStr(O)){J+=(M===false?K:encodeURIComponent(K))+"="+(M===false?O:encodeURIComponent(O))
}else{J+=(M===false?K:encodeURIComponent(K))}N++}}return J};if(I!=null){H=this.create(I)}else{H=this.create(document.URL)}}function b(H,I){this.getValue=function(J){if(B.isFullStr(J)){if(H!=null&&H[J]!=null){return H[J]}if(I!=null&&I[J]!=null){return I[J]}}return null};this.get=function(J){return B.strValue(this.getValue(J))};this.getFullStr=function(J){return B.strFullCheck(this.get(J),null)};this.getNum=function(J){return B.strToNum(this.getValue(J),0)};this.getBool=function(J){return B.strToBool(this.getValue(J),false)};this.has=function(J,K){return B.isValid(this.get(J),K)}}function h(){var H={};this.hasObserver=function(I){return B.isFullStr(I)&&H[I]!=null};this.hasObservers=function(){var I;for(I in H){return true}return false};this.addObserver=function(I,J){if(B.isFullStr(I)&&typeof J=="function"){H[I]=J}};this.removeObserver=function(I){if(B.isFullStr(I)){delete H[I]}};this.onEvent=function(I,J){if(B.isFullStr(I)){if(typeof J=="function"){this.addObserver(I,J)}else{this.removeObserver(I)
}}};this.notifyObserver=function(I,J){if(B.isFullStr(I)&&H[I]!=null){H[I](J)}};this.notifyObservers=function(J){for(var I in H){H[I](J)}}}function m(){var H={};this.hasObserver=function(J,I){return B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null&&H[J][I]!=null};this.hasObservers=function(J){if(B.isFullStr(J)&&H[J]!=null){var I;for(I in H[J]){return true}}return false};this.addObserver=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)&&typeof K=="function"){if(H[J]==null){H[J]={}}H[J][I]=K}};this.removeObserver=function(J,I){if(B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null){delete H[J][I];if(!this.hasObservers(J)){delete H[J]}}};this.onEvent=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)){if(typeof K=="function"){this.addObserver(J,I,K)}else{this.removeObserver(J,I)}}};this.notifyObserver=function(J,I,K){if(B.isFullStr(J)&&B.isFullStr(I)&&H[J]!=null&&H[J][I]!=null){H[J][I](K)}};this.notifyObservers=function(J,K){if(B.isFullStr(J)&&H[J]!=null){for(var I in H[J]){H[J][I](K)}}}}function G(){var I=null;
var J=[];var H=null;var K=false;this.delegate=null;this.execute=function(){if(I!=null){clearTimeout(I);I=null}if(H!=null){if(typeof H.action=="function"){H.action()}else{if(this.delegate!=null&&typeof this.delegate.executeQueueAction=="function"){this.delegate.executeQueueAction(H.action)}}H=null;this.process()}};this.process=function(){if(H==null&&J.length>0){H=J.shift();if(H.action==="stop"&&H.delay==null){K=true;H=null}else{if(H.delay!=null&&H.delay>0){var L=this;I=setTimeout(function(){I=null;L.execute()},H.delay)}else{this.execute()}}}};this.reset=function(){J=[];H=null;K=false;if(I!=null){clearTimeout(I);I=null}};this.push=function(L,M){if(L!=null){if(L==="reset"&&M==null){this.reset()}else{if(L==="execute"&&M==null){this.execute()}else{if(L==="clear"&&M==null){J=[]}else{if(L==="continue"&&M==null){K=false}else{J.push({action:L,delay:M})}}}}if(!K){this.process()}}};this.isBusy=function(){return I!=null}}function e(H,L){var J=null;var K=[];var I=0;this.size=H!=null?H:0;this.delay=L!=null?L:0;
this.work=function(){if(J==null&&this.delay>0){var M=this;J=setTimeout(function(){J=null;I=0;M.process()},this.delay)}};this.process=function(){if(J==null&&K.length>0){if(I<this.size||this.size<=0||this.delay<=0){I++;var M=K.shift();M();this.process()}else{this.work()}}};this.reset=function(){K=[];I=0;if(J!=null){clearTimeout(J);J=null}};this.execute=function(M){if(typeof M=="function"){K.push(M);this.process()}};this.isBusy=function(){return J!=null}}function u(K){var J=null;var I=null;var H=false;this.delay=K!=null?K:0;this.start=function(L){var M=this;H=false;this.stop();I=L;if(this.delay>0){J=setTimeout(function(){M.finish()},this.delay)}else{M.finish()}};this.restart=function(){this.start(I)};this.stop=function(){if(J!=null){clearTimeout(J);J=null}};this.finish=function(){this.stop();if(!H){H=true;if(typeof I=="function"){I()}}};this.isBusy=function(){return J!=null}}function s(){var J=300;var K=0;var H=0;var I=null;this.click=function(L){var M=q.getTimestamp();if(I===L&&K>0&&M-K<=J){H++
}else{H=1}I=L;K=M;return H}}function r(){var H="application/json";var M="application/xml";var J="text/plain";var P="text/html";var O="application/x-www-form-urlencoded";var K=function(S){var R=null;try{R=new XMLHttpRequest()}catch(Q){if(S!=null&&typeof S.error=="function"){S.error("Create XML HTTP request failed: "+Q)}}return R};var N=function(Q){if(Q!=null&&typeof Q.destroy=="function"){Q.destroy()}};var L=function(U,V,S){var Q=U.responseText;var T=true;if(Q!=null){if(S==H){try{if(window.JSON!=null&&typeof JSON.parse=="function"){if(B.isFullStr(Q)){Q=JSON.parse(Q)}else{T=false;if(V!=null&&typeof V.error=="function"){V.error("Validate JSON failed")}}}else{if(B.isJson(Q)){Q=new Function("return "+Q)()}else{T=false;if(V!=null&&typeof V.error=="function"){V.error("Validate JSON failed")}}}}catch(R){T=false;if(V!=null&&typeof V.error=="function"){V.error("Create JSON failed: "+R)}}}else{if(S==M){Q=U.responseXML}}}if(T&&V!=null&&typeof V.success=="function"){V.success(Q)}};var I=function(W,T,V,ad,Q){if(window.TVXAjaxService!=null&&typeof TVXAjaxService.executeRequest=="function"&&TVXAjaxService.executeRequest(W,T,V,ad,Q)===true){return
}var Z=K(ad);if(Z!=null){var aa=H;var U=false;var ab=false;var R=true;var ac=null;if(Q!=null){U=Q.isForm===true;ab=Q.withCredentials===true;R=Q.accurateHeaders!==false;ac=Q.headers;if(Q.dataType!=null){if(Q.dataType=="json"){aa=H}else{if(Q.dataType=="xml"){aa=M}else{if(Q.dataType=="text"){aa=J}else{if(Q.dataType=="html"){aa=P}else{aa=null}}}}}}try{if(ab){Z.withCredentials=true}Z.open(W,T,true)}catch(Y){N(Z);Z=null;if(ad!=null&&typeof ad.error=="function"){ad.error("Open connection failed: "+Y)}}if(Z!=null){Z.onreadystatechange=function(){if(Z!=null){if(Z.readyState==4){if((Z.status>=200&&Z.status<300)||(Z.status==0&&B.isFullStr(Z.responseText))){L(Z,ad,aa)}else{if(ad!=null&&typeof ad.error=="function"){var ae=B.strValue(Z.status);if(B.isFullStr(Z.statusText)){ae+=" "+Z.statusText}ad.error("Server responded with status: "+ae)}}N(Z);Z=null}}};if(aa!=null){if(V!=null){Z.setRequestHeader("Content-Type",!U&&R?aa:O)}if(R){Z.setRequestHeader("Accept",aa)}}if(ac!=null){for(var X in ac){var S=ac[X];
if(S!=null){Z.setRequestHeader(B.strValue(X),B.strValue(S))}}}try{Z.send(V)}catch(Y){N(Z);Z=null;if(ad!=null&&typeof ad.error=="function"){ad.error("Send data failed: "+Y)}}}}};this.get=function(Q,S,R){I("GET",Q,null,S,R)};this.post=function(R,T,Q,S){I("POST",R,T,Q,S)};this.put=function(R,T,Q,S){I("PUT",R,T,Q,S)};this.del=function(Q,S,R){I("DELETE",Q,null,S,R)}}var o={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4};function n(){var N=[];var J=null;this.level=o.DEBUG;this.maxLines=30;this.maxDebugLength=116;this.maxInfoLength=-1;this.maxWarnLength=-1;this.maxErrorLength=-1;var L=function(){var O=new Date();var V=O.getHours();var U=O.getMinutes();var S=O.getSeconds();var R=O.getMilliseconds();var Q=O.getDate();var T=O.getMonth()+1;var P=O.getFullYear();return P+"-"+((T<10)?"0":"")+T+"-"+((Q<10)?"0":"")+Q+" "+((V<10)?"0":"")+V+":"+((U<10)?"0":"")+U+":"+((S<10)?"0":"")+S+"."+((R<10)?"00":((R<100)?"0":""))+R};var K=function(P,O){var Q="";switch(P){case o.DEBUG:Q=E.LOGGER.CSS.CLASS_DEBUG;break;case o.INFO:Q=E.LOGGER.CSS.CLASS_INFO;
break;case o.WARN:Q=E.LOGGER.CSS.CLASS_WARN;break;case o.ERROR:Q=E.LOGGER.CSS.CLASS_ERROR;break}return B.strReplace(E.LOGGER.HTML.LINE.replace("{LEVEL}",Q),"{MESSAGE}",B.htmlEscape(O))};var I=function(P,O){var Q="";switch(P){case o.DEBUG:Q="DEBUG";break;case o.INFO:Q="INFO";break;case o.WARN:Q="WARNING";break;case o.ERROR:Q="ERROR";break}return L()+" "+Q+": "+O};var H=function(Q,P,R,O){if(R>0&&P.length>R){P=P.substr(0,R)+"..."}N.push(K(Q,P));if(O>0){while(N.length>O){N.shift()}}};var M=function(P,O){if(window.console!=null){switch(P){case o.DEBUG:console.log(O);break;case o.INFO:console.info(O);break;case o.WARN:console.warn(O);break;case o.ERROR:console.error(O);break}}};this.registerControl=function(O,P){J=O;if(P!==false){this.print()}};this.unregisterControl=function(O){if(J==O){J=null}};this.print=function(){if(J!=null&&N.length>0){var P="";for(var O=0;O<N.length;O++){P+=N[O]+E.COMMON.HTML.BREAK}J.html(P)}};this.clear=function(){N=[];this.print()};this.log=function(P,O){if(P<=this.level){var Q=-1;
switch(P){case o.DEBUG:Q=this.maxDebugLength;break;case o.INFO:Q=this.maxInfoLength;break;case o.WARN:Q=this.maxWarnLength;break;case o.ERROR:Q=this.maxErrorLength;break}M(P,O);H(P,I(P,O),Q,this.maxLines);this.print()}};this.debug=function(O){this.log(o.DEBUG,O)};this.info=function(O){this.log(o.INFO,O)};this.warn=function(O){this.log(o.WARN,O)};this.error=function(O){this.log(o.ERROR,O)}}function F(){var M=null;var K=false;var J={};var H=function(N,O){J[N]=O;if(K){O()}};var I=function(N){delete J[N]};var L=function(){for(var N in J){J[N]()}};this.onReady=function(N,O){if(B.isFullStr(N)){if(typeof O=="function"){H(N,O)}else{I(N)}}};this.init=function(N){K=true;M={};d.foreach(N,function(P,O){if(B.isFullStr(P)&&B.isFullStr(O)){M[P]=O}});L()};this.getValueForKey=function(O,N){if(M!=null&&B.isFullStr(O)&&M[O]!=null){return M[O]}return N};this.isValidExpr=function(N){return B.isFullStr(N)&&N.indexOf("{")==0&&N.indexOf("}")==N.length-1};this.getValueForExpr=function(P){if(this.isValidExpr(P)){var R=P.substring(1,P.length-1);
var N=R.indexOf("|");if(N>0){var O=R.substr(0,N);var Q=R.substr(N+1);var S=this.getValueForKey(O,null);if(S!=null){return S}else{return Q}}else{var S=this.getValueForKey(R,null);if(S!=null){return S}else{return P}}}return P}}function a(){var J=null;var K={};var I=null;var H=null;this.delay=0;this.now=q.getNow();this.format="time";this.isRunning=function(){return J!=null};this.hasHook=function(L){return B.isFullStr(L)&&K[L]!=null};this.hasHooks=function(){var L;for(L in K){return true}return false};this.hasControl=function(){return I!=null};this.clearHooks=function(){K={}};this.addHook=function(L,M){if(B.isFullStr(L)&&typeof M=="function"){K[L]=M}};this.removeHook=function(L){if(B.isFullStr(L)){delete K[L]}};this.onTick=function(L,M){if(B.isFullStr(L)){if(typeof M=="function"){this.addHook(L,M)}else{this.removeHook(L)}}};this.registerControl=function(L){I=L};this.unregisterControl=function(L){if(I==L){I=null}};this.update=function(){if(I!=null){var L=null;switch(this.format){case"full":L=y.toDayTimeFullStr(this.now);
break;case"date":L=y.toDayTimeLongStr(this.now);break;case"day":L=y.toTimeDayStr(this.now);break;case"time":L=y.toTimeStr(this.now);break;default:L="";break}if(I.clockText!=L){I.clockText=L;I.html(L)}}};this.validate=function(){this.now=q.getNow()};this.process=function(){if(J!=null){this.validate();this.delay=H!=null?this.now.getTime()-H.getTime():0;H=this.now;this.update();for(var L in K){K[L](this)}}};this.start=function(){if(J==null){var L=this;H=null;J=setInterval(function(){L.process()},1000)}};this.stop=function(){if(J!=null){clearInterval(J);J=null;H=null}}}var D={logger:new n(),cookies:new w(),storage:new p(),urlParams:new f(),ajax:new r()};var i=new function(){var H={};this.load=function(J,I,L,K){if(B.isFullStr(J)){if(I!=null&&H[I]!=null&&H[I].url==J&&H[I].data!=null){if(L!=null&&typeof L.success=="function"){L.success(H[I].data,true)}}else{D.ajax.get(J,{success:function(M){if(I!=null){H[I]={url:J,data:M}}if(L!=null&&typeof L.success=="function"){L.success(M,false)}},error:function(M){if(I!=null){H[I]={url:J,data:null}
}if(L!=null&&typeof L.error=="function"){L.error(M)}}},K)}}};this.clearCache=function(I){if(I!=null){H[I]=null}};this.clear=function(){H={}}};function A(){var T={};var M={};var Q={};var N={};var P=function(V){if(V!=null&&V.response!=null){return B.strToNum(V.response.status,0)}return 0};var U=function(V){if(V!=null&&V.response!=null){return V.response.data}return null};var K=function(W){var V="";if(W!=null&&W.response!=null){if(B.isNum(W.response.status)){V+=""+W.response.status}if(B.isFullStr(W.response.text)){if(V.length>0){V+=" "}V+=W.response.text}if(B.isFullStr(W.response.message)){if(V.length>0){V+=": "}V+=W.response.message}}return V.length>0?V:"Unknown error"};var S=function(V,W){Q[V]=W;for(var X in T){if(T[X]!=null){W(T[X])}}};var H=function(V){delete Q[V]};var J=function(V){for(var W in Q){Q[W](V)}};var L=function(V,W){if(V!=null&&typeof W=="function"){N[V]=W;for(var X in M){if(M[X]!=null){W(M[X])}}}};var R=function(V){if(V!=null){delete N[V]}};var I=function(V){for(var W in N){N[W](V)
}};var O=function(V){return V!=null&&V.indexOf("temp:")!=0};this.onReady=function(V,W){if(B.isFullStr(V)){if(typeof W=="function"){S(V,W)}else{H(V)}}};this.onError=function(V,W){if(B.isFullStr(V)){if(typeof W=="function"){L(V,W)}else{R(V)}}};this.onCompleted=function(V,W){this.onReady(V,W);this.onError(V,W)};this.foreachEntry=function(W){if(typeof W=="function"){for(var V in T){if(T[V]!=null){if(W(T[V])===true){break}}}}};this.foreachError=function(W){if(typeof W=="function"){for(var V in M){if(M[V]!=null){if(W(M[V])===true){break}}}}};this.getData=function(V){return V!=null&&T[V]!=null?T[V].data:null};this.getEntry=function(V){return V!=null?T[V]:null};this.setEntry=function(W,V){if(W!=null&&V!=null){T[W]=V;M[W]=null;J(V)}};this.getError=function(V){return V!=null?M[V]:null};this.setError=function(V,W){if(V!=null&&W!=null){T[V]=null;M[V]=W;I(W)}};this.shouldStoreData=function(V){return O(V)};this.createData=function(V,W){return W};this.putData=function(W,Y,V,X){if(W!=null&&Y!=null){D.ajax.put(W,Y,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(V!=null&&typeof V.success=="function"){V.success(Z.response.data)
}}else{if(V!=null&&typeof V.error=="function"){V.error(K(Z),P(Z),U(Z))}}},error:function(Z){if(V!=null&&typeof V.error=="function"){V.error(Z,0,null)}}},X)}};this.postData=function(W,Y,V,X){if(W!=null&&Y!=null){D.ajax.post(W,Y,{success:function(Z){if(Z.response!=null&&Z.response.status==200){if(V!=null&&typeof V.success=="function"){V.success(Z.response.data)}}else{if(V!=null&&typeof V.error=="function"){V.error(K(Z),P(Z),U(Z))}}},error:function(Z){if(V!=null&&typeof V.error=="function"){V.error(Z,0,null)}}},X)}};this.deleteData=function(V,X,W){if(V!=null){D.ajax.del(V,{success:function(Y){if(Y.response!=null&&Y.response.status==200){if(X!=null&&typeof X.success=="function"){X.success(Y.response.data)}}else{if(X!=null&&typeof X.error=="function"){X.error(K(Y),P(Y),U(Y))}}},error:function(Y){if(X!=null&&typeof X.error=="function"){X.error(Y,0,null)}}},W)}};this.loadData=function(Y,W,Z,X){if(Y!=null){var V=this;if(O(Y)){this.clearData(Y)}if(W!=null){D.ajax.get(W,{success:function(ad){var ac=false;
if(ad.response!=null&&ad.response.status==200&&ad.response.data!=null){ac=true;ad=ad.response.data}if(!ac&&ad.response!=null){var aa={id:Y,error:K(ad),status:P(ad),reason:U(ad)};var ab=true;if(Z!=null&&typeof Z.error=="function"){ab=Z.error(aa)}if(ab!==false&&O(Y)){V.setError(Y,aa)}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}else{var aa={id:Y,data:V.createData(Y,ad)};var ab=true;if(Z!=null&&typeof Z.success=="function"){ab=Z.success(aa)}if(ab!==false&&O(Y)){V.setEntry(Y,aa)}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}},error:function(ac){var aa={id:Y,error:ac,status:0,reason:null};var ab=true;if(Z!=null&&typeof Z.error=="function"){ab=Z.error(aa)}if(ab!==false&&O(Y)){V.setError(Y,aa)}if(Z!=null&&typeof Z.completed=="function"){Z.completed(aa)}}},X)}}};this.clearData=function(V){if(V!=null){T[V]=null;M[V]=null}};this.clear=function(){T={};M={}}}function v(){var W={};var L={};var Q={};var M={};var N=function(Y){if(Y!=null){try{if(window.URL!=null&&typeof URL.createObjectURL=="function"){return URL.createObjectURL(Y)
}else{if(window.webkitURL!=null&&typeof webkitURL.createObjectURL=="function"){return webkitURL.createObjectURL(Y)}}}catch(X){D.logger.error("Create blob URL failed: "+X)}}return null};var T=function(X){if(X!=null){try{if(window.URL!=null&&typeof URL.revokeObjectURL=="function"){URL.revokeObjectURL(X)}else{if(window.webkitURL!=null&&typeof webkitURL.revokeObjectURL=="function"){webkitURL.revokeObjectURL(X)}}}catch(Y){D.logger.error("Dispose blob URL failed: "+Y)}}};var H=function(Z){var Y=null;try{Y=new XMLHttpRequest()}catch(X){if(Z!=null&&typeof Z.error=="function"){Z.error("Create XML HTTP request failed: "+X)}}return Y};var S=function(X){if(X!=null&&typeof X.destroy=="function"){X.destroy()}};var V=function(X,Y){if(X.response!=null){if(Y!=null&&typeof Y.success=="function"){Y.success(X.response)}}else{if(Y!=null&&typeof Y.error=="function"){Y.error("Load blob failed: Response is missing")}}};var I=function(Z,af,X){var ac=H(af);if(ac!=null){var ad=false;var ae=null;if(X!=null){ad=X.withCredentials===true;
ae=X.headers}try{if(ad){ac.withCredentials=true}ac.responseType="blob";ac.open("GET",Z,true)}catch(ab){S(ac);ac=null;if(af!=null&&typeof af.error=="function"){af.error("Open connection failed: "+ab)}}if(ac!=null){ac.onreadystatechange=function(){if(ac!=null){if(ac.readyState==4){if(ac.status>=200&&ac.status<300){V(ac,af)}else{if(af!=null&&typeof af.error=="function"){var ag=B.strValue(ac.status);if(B.isFullStr(ac.statusText)){ag+=" "+ac.statusText}af.error("Server responded with status: "+ag)}}S(ac);ac=null}}};if(ae!=null){for(var aa in ae){var Y=ae[aa];if(Y!=null){ac.setRequestHeader(B.strValue(aa),B.strValue(Y))}}}try{ac.send()}catch(ab){S(ac);ac=null;if(af!=null&&typeof af.error=="function"){af.error("Send data failed: "+ab)}}}}};var U=function(X,Y){Q[X]=Y;for(var Z in W){if(W[Z]!=null){Y(W[Z])}}};var R=function(X){delete Q[X]};var J=function(X){for(var Y in Q){Q[Y](X)}};var K=function(X,Y){if(X!=null&&typeof Y=="function"){M[X]=Y;for(var Z in L){if(L[Z]!=null){Y(L[Z])}}}};var P=function(X){if(X!=null){delete M[X]
}};var O=function(X){for(var Y in M){M[Y](X)}};this.onReady=function(X,Y){if(B.isFullStr(X)){if(typeof Y=="function"){U(X,Y)}else{R(X)}}};this.onError=function(X,Y){if(B.isFullStr(X)){if(typeof Y=="function"){K(X,Y)}else{P(X)}}};this.onCompleted=function(X,Y){this.onReady(X,Y);this.onError(X,Y)};this.foreachEntry=function(Y){if(typeof Y=="function"){for(var X in W){if(W[X]!=null){if(Y(W[X])===true){break}}}}};this.foreachError=function(Y){if(typeof Y=="function"){for(var X in L){if(L[X]!=null){if(Y(L[X])===true){break}}}}};this.getBlob=function(X){return X!=null&&W[X]!=null?W[X].blob:null};this.getUrl=function(X){return X!=null&&W[X]!=null?W[X].url:null};this.getEntry=function(X){return X!=null?W[X]:null};this.setEntry=function(Y,X){if(Y!=null&&X!=null){T(W[Y]!=null?W[Y].url:null);W[Y]=X;L[Y]=null;J(X)}};this.getError=function(X){return X!=null?L[X]:null};this.setError=function(X,Y){if(X!=null&&Y!=null){T(W[X]!=null?W[X].url:null);W[X]=null;L[X]=Y;O(Y)}};this.loadBlob=function(aa,Y,ab,Z){if(aa!=null){var X=this;
this.clearBlob(aa);if(Y!=null){I(Y,{success:function(ad){var ac={id:aa,blob:ad,url:N(ad)};if(ab!=null&&typeof ab.success=="function"){ab.success(ac)}X.setEntry(aa,ac);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ac)}},error:function(ad){var ac={id:aa,error:ad,status:0,reason:null};if(ab!=null&&typeof ab.error=="function"){ab.error(ac)}X.setError(aa,ac);if(ab!=null&&typeof ab.completed=="function"){ab.completed(ac)}}},Z)}}};this.clearBlob=function(X){if(X!=null){T(W[X]!=null?W[X].url:null);W[X]=null;L[X]=null}};this.clear=function(){for(var X in W){T(W[X]!=null?W[X].url:null)}W={};L={}}}function g(M){var J="srq";var I=0;var H={};var N=0;this.timeout=M!=null?M:30000;var K=function(O,R){I++;N++;var Q=J+I+"_"+q.getTimestamp();var P={timeout:new u(O),callback:R};H[Q]=P;P.timeout.start(function(){L(Q,null,"Request timed out","timeout")});return Q};var L=function(R,S,O,P){if(R!=null){var Q=H[R];if(Q!=null){N--;Q.timeout.stop();delete H[R];if(O!=null){if(Q.callback!=null&&typeof Q.callback.error=="function"){Q.callback.error(O,P)
}}else{if(Q.callback!=null&&typeof Q.callback.success=="function"){Q.callback.success(S)}}}}};this.startRequest=function(O){return K(this.timeout,O)};this.getRequestsCount=function(){return N};this.isRequestPending=function(O){return O!=null&&H[O]!=null};this.handleData=function(O,P){L(O,P!=null?P:null,null)};this.handleError=function(P,Q,O){L(P,null,Q!=null?Q:"Unknown error",O!=null?O:null)}}function z(R){var S=4;var P=256;var T=null;var Q=null;var aa=function(ak){return B.isFullStr(ak)&&ak.length>=S&&ak.length<P&&ak.length%2==0};var af=function(ak){return ak&ak};var I=function(ak,al){return af(((ak<<5)-ak)+al)};var V=function(ak){return ak.length==1?"0"+ak:ak};var ac=function(al,ak){if(ak>0){while(al<0){al+=ak}while(al>=ak){al-=ak}}return al};var Y=function(am,al,ak){am+=3;return am+al>=ak?0:am};var L=function(ak,al){ak++;return ak>=al?0:ak};var Z=function(ak,al){return al?-ak:ak};var ag=function(an,ao,am,ak,al){return ac(ao+Z(ak,al)*ab(an,am),P)};var N=function(aq,ak,ap,ar,al,ao,am){var an=aq!=null&&ap!=null?aq.indexOf(ap):-1;
return an>=0?ai(aq,ac(an+Z(ao,am)*(ar+ab(ak,al)),aq.length)):ap};var M=function(al,ak){return ak!=null?(al!=null?al+ak:ak):al};var ai=function(ak,al){return ak!=null&&al>=0&&al<ak.length?ak.charAt(al):null};var ab=function(ak,al){return ak!=null&&al>=0&&al<ak.length?ak.charCodeAt(al):0};var O=function(ap,ar,ak,ao,al,an){var aq=ai(ap,ao);if(aq!=null){var am=Math.random()>0.5?ar.indexOf(aq):ar.lastIndexOf(aq);return am>=0?V(ag(ak,am,al,1,an).toString(16)):null}return null};var J=function(ap,ak,ao,al,an){var ar=ai(ap,ao);var aq=ai(ap,ao+1);var am=ar!=null&&aq!=null?parseInt(ar+aq,16):-1;return am>=0?ag(ak,am,al,-1,an):-1};var ah=function(aq,av,al){var au=null;if(B.isFullStr(aq)&&aq.length%2==0&&aa(av)&&aa(al)){var ap=aq.length;var ar=al.length;var am=0;var ao=0;var an=false;for(var ak=0;ak<ap;ak+=2){var at=ai(av,J(aq,al,ak,am+ao,an));if(at!=null){au=M(au,at)}else{return null}am=Y(am,ao,ar);if(am==0){ao=L(ao,ar)}an=!an}}return au};var K=function(ar,an,al){var av=null;if(B.isFullStr(ar)&&aa(an)&&aa(al)){var au=ar.length;
var at=al.length;var am=0;var aq=0;var ap=false;for(var ak=0;ak<au;ak++){var ao=O(ar,an,al,ak,am+aq,ap);if(ao!=null){av=M(av,ao)}else{return null}am=Y(am,aq,at);if(am==0){aq=L(aq,at)}ap=!ap}}return av};var aj=function(al){var ak=al<0?-1:1;return ak*((al*ak)%P)};var ad=function(ao){var al=null;if(aa(ao)){var an=ao.length;var am=an/2;for(var ap=0;ap<am;ap++){var aq=ai(ao,ap);var ak=ai(ao,an-1-ap);if(al==null||al.indexOf(aq)<0){al=M(al,aq)}if(al.indexOf(ak)<0){al=M(al,ak)}}}return al};var H=function(an,ap,ao){var am=0;if(an!=null&&ap!=null&&ao!=null){var aq=an.length;var ak=ao.length;am=aq;for(var al=0;al<ak;al++){am=I(am,ab(ao,al))}for(var al=0;al<aq;al++){if(ap.indexOf(ai(an,al))<0){am=I(am,ab(an,al))}}}return aj(am)};var U=function(ar,av,al,at){var an=null;if(B.isFullStr(ar)&&aa(av)&&aa(al)){var aw=H(ar,av,al);var au=ar.length;var aq=al.length;var am=0;var ap=0;var ao=false;for(var ak=0;ak<au;ak++){an=M(an,N(av,al,ai(ar,ak),aw,am+ap,at,ao));am=Y(am,ap,aq);if(am==0){ap=L(ap,aq)}ao=!ao}}return an
};var ae=function(){return K(B.strShuffle(R),R,R)};var W=function(ak,al){return ah(ak,ah(al,R,R),R)};var X=function(){if(Q==null){Q=ad(R)}return Q};this.createSteam=function(){T=ae();return T};this.resolveToken=function(ak){return W(ak,T)};this.transformString=function(ak){return U(ak,X(),R,1)};this.normalizeString=function(ak){return U(ak,X(),R,-1)}}var t=new function(){var H=new z("k%hy.nLI1&4rN[D9YAPVCu(*&5F)'aC$=frs,wocT48qpRpXt[Gx$BQZU@B,9N;oL%j*J~hXbW)-#q#z7+0uMgHm3fEHcdK@iIG!?nP!/Y.3vFb~2eUz(sk-O/W?AtJ_VT_8]=+K;DmS6Q1iSx60]jaevER'l7y5ZlOdM2wg");this.transformString=function(I){return H.transformString(I)};this.normalizeString=function(I){return H.normalizeString(I)}};var C=new function(){var R=null;var P=false;var O=function(U){if(R!=null){var S=R;R=null;if(S.length>0){for(var T=0;T<S.length;T++){S[T](U)}}}};var I=function(S){if(R==null){R=[]}R.push(S)};var M=function(T,S){if(B.isFullStr(S)){if(B.isFullStr(T)){return S==T}return false}return true};var J=function(S){return S!=null&&S.info!=null&&S.info.framework!=null?B.strFullCheck(S.info.framework.name,null):null
};var L=function(S){return S!=null&&S.info!=null&&S.info.framework!=null?B.strFullCheck(S.info.framework.version,null):null};var H=function(S){return S!=null&&S.info!=null&&S.info.application!=null?B.strFullCheck(S.info.application.name,null):null};var N=function(S){return S!=null&&S.info!=null&&S.info.application!=null?B.strFullCheck(S.info.application.version,null):null};var K=function(S){return S!=null&&S.info!=null&&S.info.content!=null?B.strFullCheck(S.info.content.name,null):null};var Q=function(S){return S!=null&&S.info!=null&&S.info.content!=null?B.strFullCheck(S.info.content.version,null):null};this.createCanvas=function(U,T,S){return B.strReplace(E.COMMON.HTML.CANVAS.replace("{WIDTH}",B.strToNum(T,k.SCREEN_WIDTH)).replace("{HEIGHT}",B.strToNum(S,k.SCREEN_HEIGHT)),"{CLASS}",B.htmlAttrEscape(U))};this.createIFrame=function(S,T){return B.strReplace(B.strReplace(E.COMMON.HTML.IFRAME,"{CLASS}",B.htmlAttrEscape(S)),"{SRC}",B.htmlAttrEscape(B.strFullCheck(T,"about:blank")))};this.areSettingsValidated=function(){return P
};this.invalidateSettings=function(){P=false};this.validateSettings=function(Y){P=true;var aj=null;var U=null;var aa=null;var ak=null;var ab=null;var ap=null;var ao=null;var am=null;var V=null;var S=null;var W=null;var an=null;var ac=null;var Z=null;var ah=null;var al=null;var ae=null;var ai=null;var T=null;var af=null;var ad=null;var ag=null;var X=null;if(Y!=null&&Y.info!=null){ao=Y.info.platform;if(Y.info.time!=null){aj=Y.info.time.offset;U=Y.info.time.zoneOffset}if(Y.info.screen!=null){aa=Y.info.screen.width;ak=Y.info.screen.height;ab=Y.info.screen.factor;ap=Y.info.screen.zoomFactor}if(Y.info.framework!=null&&Y.info.framework.settings!=null){am=Y.info.framework.settings.animate;V=Y.info.framework.settings.transform;S=Y.info.framework.settings.input;W=Y.info.framework.settings.remote;an=Y.info.framework.settings.layout;ac=Y.info.framework.settings.scale;Z=Y.info.framework.settings.zoom;ah=Y.info.framework.settings.center;al=Y.info.framework.settings.background;ae=Y.info.framework.settings.exit;
ai=Y.info.framework.settings.back;T=Y.info.framework.settings.volume;af=Y.info.framework.settings.busy;ad=Y.info.framework.settings.speed;ag=Y.info.framework.settings.playback;X=Y.info.framework.settings.fullscreen}}k.TIME_OFFSET=B.strToNum(aj,k.TIME_OFFSET);k.TIME_ZONE_OFFSET=B.strToNum(U,k.TIME_ZONE_OFFSET);k.SCREEN_WIDTH=B.strToNum(aa,k.SCREEN_WIDTH);k.SCREEN_HEIGHT=B.strToNum(ak,k.SCREEN_HEIGHT);k.SCREEN_FACTOR=B.strToNum(ab,k.SCREEN_FACTOR);k.ZOOM_FACTOR=B.strToNum(ap,k.ZOOM_FACTOR);k.PLATFORM=B.strFullCheck(ao,k.PLATFORM);k.ANIMATE=B.strToNum(am,k.ANIMATE);k.TRANSFORM=B.strToNum(V,k.TRANSFORM);k.INPUT=B.strToNum(S,k.INPUT);k.REMOTE=B.strToNum(W,k.REMOTE);k.LAYOUT=B.strFullCheck(an,k.LAYOUT);k.SCALE=B.strFullCheck(ac,k.SCALE);k.ZOOM=B.strFullCheck(Z,k.ZOOM);k.CENTER=B.strToNum(ah,k.CENTER);k.BACKGROUND=B.strToNum(al,k.BACKGROUND);k.EXIT=B.strToNum(ae,k.EXIT);k.BACK=B.strToNum(ai,k.BACK);k.VOLUME=B.strToNum(T,k.VOLUME);k.BUSY=B.strToNum(af,k.BUSY);k.SPEED=B.strToNum(ad,k.SPEED);k.PLAYBACK=B.strToNum(ag,k.PLAYBACK);
k.FULLSCREEN=B.strToNum(X,k.FULLSCREEN);O(Y)};this.onValidatedSettings=function(S){if(typeof S=="function"){if(P){S()}else{I(S)}}};this.handleSettingsEvent=function(T){if(T!=null&&B.isFullStr(T.event)&&T.event.indexOf("settings:")==0){var S=T.event.substr(9);if(S=="animate"){k.ANIMATE=B.strToNum(T.value,k.ANIMATE)}else{if(S=="transform"){k.TRANSFORM=B.strToNum(T.value,k.TRANSFORM)}else{if(S=="input"){k.INPUT=B.strToNum(T.value,k.INPUT)}else{if(S=="remote"){k.REMOTE=B.strToNum(T.value,k.REMOTE)}else{if(S=="layout"){k.LAYOUT=B.strToNum(T.value,k.LAYOUT)}else{if(S=="scale"){k.SCALE=B.strFullCheck(T.value,k.SCALE)}else{if(S=="zoom"){k.ZOOM=B.strFullCheck(T.value,k.ZOOM)}}}}}}}}};this.getFrameworkInfo=function(S){return B.strFullCheck(J(S),"-")+" "+B.strFullCheck(L(S),"-")};this.getApplicationInfo=function(S){return B.strFullCheck(H(S),"-")+" "+B.strFullCheck(N(S),"-")};this.getContentInfo=function(S){return B.strFullCheck(K(S),"-")+" "+B.strFullCheck(Q(S),"-")};this.checkFramework=function(U,T,S){return B.checkVersion(L(U),T)&&M(J(U),S)
};this.checkApplication=function(U,T,S){return B.checkVersion(N(U),T)&&M(H(U),S)};this.checkContent=function(U,T,S){return B.checkVersion(Q(U),T)&&M(K(U),S)}};var j=new function(){var K="videoPlugin";var at="vrq";var ad=100;var M=30000;var aa=new z("VnckdhvbF'sOhm)XlK1t]ETl]+K8q-tDgevE3N;7Zm[u#V1/W)U-_@_@,A4(B#zGF~8JHfJr?=D2*n9WC7&0i/a+2S,Qky5&..Nx!p(wUoLRIdos?HBLZ;T'CRb=eqGi3yc5$*Q%~P6MYjrj6P40aISO$!AXYwMzu%[x9gpf");var Q=null;var X=false;var aq=null;var aE=false;var O=false;var ai=false;var aL=false;var aT=null;var aV=new a();var W=new u(1000);var av=new u(1000);var aD=false;var aQ={state:0,position:0,duration:0,speed:1,ended:false,volume:100,muted:false,width:k.SCREEN_WIDTH,height:k.SCREEN_HEIGHT};var ab=function(aW){Q=new z(aW)};var ak=function(aW){if(aE){if(aW=="local"){return Q!=null?Q.createSteam():null}return aa.createSteam()}return null};var J=function(aW,aX){if(aE){if(aX=="local"){return Q!=null?Q.resolveToken(aW):null}return aa.resolveToken(aW)}return null};var aw=function(aW,aX){if(aE){if(aX=="local"){return Q!=null?Q.transformString(aW):null
}else{if(aX=="global"){return aa.transformString(aW)}else{if(aX=="shared"){return t.transformString(Q!=null?Q.transformString(aW):aW)}}}return aa.transformString(Q!=null?Q.transformString(aW):aW)}return null};var Z=function(aW,aX){if(aE){if(aX=="local"){return Q!=null?Q.normalizeString(aW):null}else{if(aX=="global"){return aa.normalizeString(aW)}else{if(aX=="shared"){return Q!=null?Q.normalizeString(t.normalizeString(aW)):t.normalizeString(aW)}}}return Q!=null?Q.normalizeString(aa.normalizeString(aW)):aa.normalizeString(aW)}return null};var aM=function(aW){if(B.isNum(aW)){aW=B.strToNum(aW,0);if(isFinite(aW)){return aW}}return 0};var L=function(){if(aQ.position==0||aQ.duration==0){try{var aW=false;if(aQ.position==0){aQ.position=aM(aT.getPosition());aW=aQ.position>0}if(aQ.duration==0){aQ.duration=aM(aT.getDuration());aW=aQ.duration>0}if(aQ.position>0&&aQ.duration>0){aK()}if(aW){R()}}catch(aX){ae("Start failed",aX);aK()}}else{aK()}};var aK=function(){X=true;Y()};var aS=function(){Y();if(aE&&!X&&aT!=null&&typeof aT.getPosition=="function"&&typeof aT.getDuration=="function"){aq=setInterval(L,ad)
}};var Y=function(){if(aq!=null){clearInterval(aq);aq=null}};var aN=0;var aH={};var am=function(aY){aN++;var aW=at+aN+"_"+q.getTimestamp();var aX={timeout:new u(M),callback:aY};aH[aW]=aX;aX.timeout.start(function(){ao(aW,{error:"Request timed out"})});return aW};var ao=function(aW,aY){if(aW!=null){var aX=aH[aW];if(aX!=null){aX.timeout.stop();delete aH[aW];U(aX.callback,aY)}}};var U=function(aY,aW){if(typeof aY=="function"){try{aY(aW)}catch(aX){ae("Callback error",aX)}}};var R=function(){V(aQ)};var ax=function(){aV.addHook(K,ar)};var aO=function(){if(aQ.state==l.STOPPED){aV.stop()}else{aV.start()}};var S=function(aW,aX){if(B.isFullStr(aW)){V({action:aW,data:aX!=null?aX:null})}};var ap=function(aX,aW){if(B.isFullStr(aX)){if(aW!==false){S("logger:debug:"+aX)}}};var au=function(aX,aW,aY){if(B.isFullStr(aX)){if(aW!==false){S("logger:success:"+aX,{show:aY!==false})}else{if(aY!==false){S("success:"+aX)}}}};var aU=function(aX,aW,aY){if(B.isFullStr(aX)){if(aW!==false){S("logger:info:"+aX,{show:aY!==false})
}else{if(aY!==false){S("info:"+aX)}}}};var af=function(aX,aW,aY){if(B.isFullStr(aX)){if(aW!==false){S("logger:warn:"+aX,{show:aY!==false})}else{if(aY!==false){S("warn:"+aX)}}}};var an=function(aX,aW,aY){if(B.isFullStr(aX)){if(aW!==false){S("logger:error:"+aX,{show:aY!==false})}else{if(aY!==false){S("error:"+aX)}}}};var N=function(aW,aX){if(B.isFullStr(aW)&&aX!=null){if(typeof aX=="object"){S(aW+":data",aX)}else{S(aW+":"+aX)}}};var aG=function(aW){N("menu",aW)};var al=function(aW){N("content",aW)};var T=function(aW){N("panel",aW)};var ae=function(aW,aX){if(aW!=null&&aX!=null){if(aX.name!=null&&aX.message!=null){an("Plugin: "+aW+": "+aX.name+": "+aX.message)}else{an("Plugin: "+aW+": "+aX)}}};var H=function(aW){if(aQ.state!=l.PLAYING||aW===true){aQ.state=l.PLAYING;if(aE&&aT!=null&&typeof aT.play=="function"){try{aT.play()}catch(aX){ae("Play failed",aX)}}}};var aF=function(aW){if(aQ.state!=l.PAUSED||aW===true){aQ.state=l.PAUSED;if(aE&&aT!=null&&typeof aT.pause=="function"){try{aT.pause()}catch(aX){ae("Pause failed",aX)
}}}};var aR=function(aW){if(aQ.state!=l.STOPPED||aW===true){aQ.state=l.STOPPED;if(aE&&aT!=null&&typeof aT.stop=="function"){try{aT.stop()}catch(aX){ae("Stop failed",aX)}}}};var aI=function(aW,aX){if(aW==l.PLAYING){H(aX)}else{if(aW==l.PAUSED){aF(aX)}else{if(aW==l.STOPPED){aR(aX)}}}};var ar=function(){if(aE&&aT!=null&&!W.isBusy()&&typeof aT.getUpdateData=="function"){try{var aX=aT.getUpdateData();if(aX!=null){var aY=false;if(B.isNum(aX.state)){aY=true;aQ.state=B.strToNum(aX.state,aQ.state)}if(B.isNum(aX.position)){aY=true;aQ.position=B.strToNum(aX.position,aQ.position);if(!isFinite(aQ.position)){aQ.position=0}}if(B.isNum(aX.duration)){aY=true;aQ.duration=B.strToNum(aX.duration,aQ.duration);if(!isFinite(aQ.duration)){aQ.duration=0}}if(B.isNum(aX.speed)){aY=true;aQ.speed=B.strToNum(aX.speed,aQ.speed)}if(B.isBool(aX.ended)){aY=true;aQ.ended=B.strToBool(aX.ended,aQ.ended)}if(B.isNum(aX.volume)){aY=true;aQ.volume=B.strToNum(aX.volume,aQ.volume)}if(B.isBool(aX.muted)){aY=true;aQ.muted=B.strToBool(aX.muted,aQ.muted)
}if(aY){R();aO()}}}catch(aW){ae("Update failed",aW)}}};var az=function(aY,aW){aL=false;if(aQ.position!=aY||aY==0||aW===true){aQ.position=aY;if(aE&&aT!=null&&typeof aT.setPosition=="function"){try{aT.setPosition(aY);if(!aL){W.start()}}catch(aX){ae("Set position failed",aX)}}}};var aA=function(aW,aY){if(aQ.volume!=aW||aY===true){aQ.volume=aW;if(aE&&aT!=null&&typeof aT.setVolume=="function"){try{aT.setVolume(aW)}catch(aX){ae("Set volume failed",aX)}}}};var P=function(aW,aX){if(aQ.muted!=aW||aX===true){aQ.muted=aW;if(aE&&aT!=null&&typeof aT.setMuted=="function"){try{aT.setMuted(aW)}catch(aY){ae("Set muted failed",aY)}}}};var aP=function(aW,aX){if(aQ.speed!=aW||aX===true){aQ.speed=aW;if(aE&&aT!=null&&typeof aT.setSpeed=="function"){try{aT.setSpeed(aW)}catch(aY){ae("Set speed failed",aY)}}}};var aj=function(aX,aW,aY){if(aQ.width!=aX||aQ.height!=aW||aY===true){aQ.width=aX;aQ.height=aW;if(aE&&aT!=null&&typeof aT.setSize=="function"){try{aT.setSize(aX,aW)}catch(aZ){ae("Set size failed",aZ)}}}};var aB=function(aW,aX){S("response:"+aW,aX)
};var ah=function(aW,aX){ao(aW,aX)};var I=function(aX,aW,aZ){if(typeof aT.handleRequest=="function"){try{aT.handleRequest(aW,aZ,function(a0){aB(aX,a0)})}catch(aY){ae("Handle request failed",aY);aB(aX)}}else{aB(aX)}};var ay=function(a0){if(aE&&a0!=null&&aT!=null){if(B.isFullStr(a0.requestId)&&B.isFullStr(a0.dataId)){I(a0.requestId,a0.dataId,a0.data)}else{if(a0.data!=null&&B.isFullStr(a0.data.requestId)&&B.isFullStr(a0.data.dataId)){var aX={};var aZ=a0.data.dataId;var aW=aZ.indexOf(":");if(aW>0){aZ=aZ.substr(0,aW)}aX[aZ]=a0[aZ]!=null?a0[aZ]:null;aX.error=B.strFullCheck(a0.error,null);ah(a0.data.requestId,aX)}else{if(typeof aT.handleData=="function"){try{aT.handleData(a0)}catch(aY){ae("Handle data failed",aY)}}}}}};var ac=function(aW){if(!ai||aW===true){ai=true;if(aT!=null&&typeof aT.init=="function"){try{aT.init()}catch(aX){ae("Call init failed",aX)}}}};var aJ=function(aW){if(!aE||aW===true){aE=true;if(aT!=null&&typeof aT.ready=="function"){try{aT.ready()}catch(aX){ae("Call ready failed",aX)
}}}};var aC=function(){aE=false;window.addEventListener("message",function(aW){ag(aW.data)},false);S("plugin:init")};var ag=function(aW){if(ai&&aW!=null&&aW.type===K){if(aW.init===1&&aE){return}if(B.isNum(aW.state)){aI(B.strToNum(aW.state,aQ.state))}if(B.isNum(aW.position)){az(B.strToNum(aW.position,aQ.position))}if(B.isNum(aW.speed)){aP(B.strToNum(aW.speed,aQ.speed))}if(B.isNum(aW.volume)){P(false);aA(B.strToNum(aW.volume,aQ.volume))}if(B.isBool(aW.muted)){P(B.strToBool(aW.muted,aQ.muted))}if(B.isNum(aW.width)&&B.isNum(aW.height)){aj(B.strToNum(aW.width,aQ.width),B.strToNum(aW.height,aQ.height))}if(aW.init===1){aJ()}else{if(aW.data!=null){ay(aW.data)}}}};var V=function(aX){if(window.parent!=null&&aX!=null){aX.type=K;aX.sender="plugin";aX.target="app";try{window.parent.postMessage(aX,"*")}catch(aW){if(window.console!=null){console.error("Post message failed",aW)}}}};this.setupPlayer=function(aW){aT=aW;if(ai){ac(true)}if(aE){aJ(true)}};this.setSeekDelay=function(aW){W.delay=B.strToNum(aW,W.delay)
};this.getSeekDelay=function(){return W.delay};this.setLoadingDelay=function(aW){av.delay=B.strToNum(aW,av.delay)};this.getLoadingDelay=function(){return av.delay};this.setState=function(aW,aX){if(aE){aQ.state=B.strToNum(aW,aQ.state);if(aX===true){R()}aO()}};this.getState=function(){return aQ.state};this.applyState=function(){if(aE){aI(aQ.state,true)}};this.setPosition=function(aX,aW){if(aE){aL=true;aQ.position=B.strToNum(aX,aQ.position);if(!isFinite(aQ.position)){aQ.position=0}W.stop();if(aW===true){R();aO()}}};this.getPosition=function(){return aQ.position};this.applyPosition=function(){if(aE){az(aQ.position,true)}};this.setDuration=function(aW,aX){if(aE){aQ.duration=B.strToNum(aW,aQ.duration);if(!isFinite(aQ.duration)){aQ.duration=0}if(aX===true){R();aO()}}};this.getDuration=function(){return aQ.duration};this.setSpeed=function(aW,aX){if(aE){aQ.speed=B.strToNum(aW,aQ.speed);if(aX===true){R();aO()}}};this.getSpeed=function(){return aQ.speed};this.applySpeed=function(){if(aE){aP(aQ.speed,true)
}};this.setEnded=function(aW,aX){if(aE){aQ.ended=B.strToBool(aW,aQ.ended);if(aX===true){R();aO()}}};this.hasEnded=function(){return aQ.ended};this.setVolume=function(aX,aW){if(aE){aQ.volume=B.strToNum(aX,aQ.volume);if(aW===true){R();aO()}}};this.getVolume=function(){return aQ.volume};this.setMuted=function(aW,aX){if(aE){aQ.muted=B.strToBool(aW,aQ.muted);if(aX===true){R();aO()}}};this.isMuted=function(){return aQ.muted};this.applyVolume=function(){if(aE){aA(aQ.volume,true);P(aQ.muted,true)}};this.getWidth=function(){return aQ.width};this.getHeight=function(){return aQ.height};this.applySize=function(){if(aE){aj(aQ.width,aQ.height,true)}};this.executeAction=function(aW,aX){if(aE){S(aW,aX)}};this.debug=function(aX,aW){if(aE){ap(aX,aW)}};this.success=function(aX,aW,aY){if(aE){au(aX,aW,aY)}};this.info=function(aX,aW,aY){if(aE){aU(aX,aW,aY)}};this.warn=function(aX,aW,aY){if(aE){af(aX,aW,aY)}};this.error=function(aX,aW,aY){if(aE){an(aX,aW,aY)}};this.showMenu=function(aW){if(aE){aG(aW)}};this.showContent=function(aW){if(aE){al(aW)
}};this.showPanel=function(aW){if(aE){T(aW)}};this.showPlayer=function(){if(aE){S("player:show")}};this.showAction=function(){if(aE){S("player:action")}};this.hidePlayer=function(){if(aE){S("player:hide")}};this.setupContentLabel=function(aW){if(aE){S("player:label:content:"+B.strFullCheck(aW,"default"))}};this.setupExtensionLabel=function(aW){if(aE){S("player:label:extension:"+B.strFullCheck(aW,"default"))}};this.setupPositionLabel=function(aW){if(aE){S("player:label:position:"+B.strFullCheck(aW,"default"))}};this.setupDurationLabel=function(aW){if(aE){S("player:label:duration:"+B.strFullCheck(aW,"default"))}};this.enableButton=function(aW){if(aE&&B.isId(aW)){S("player:button:"+aW+":enable")}};this.disableButton=function(aW){if(aE&&B.isId(aW)){S("player:button:"+aW+":disable")}};this.focusButton=function(aW){if(aE&&B.isId(aW)){S("player:button:"+aW+":focus")}};this.setupProgressColor=function(aW){if(aE){S("player:progress:color:"+B.strFullCheck(aW,"default"))}};this.setupProgressType=function(aW){if(aE){S("player:progress:type:"+B.strFullCheck(aW,"default"))
}};this.enableProgressMarker=function(){if(aE){S("player:progress:marker:enable")}};this.disableProgressMarker=function(){if(aE){S("player:progress:marker:disable")}};this.invalidateProgressMarker=function(){if(aE){S("player:progress:marker:invalidate")}};this.setupBackground=function(aW){if(aE){S("player:background:"+B.strFullCheck(aW,"default"))}};this.setupTrigger=function(aW,aX,aY){if(aE&&B.isFullStr(aW)&&B.isFullStr(aX)){if(aY===true){S("trigger:"+aW+":shot:"+aX)}else{S("trigger:"+aW+":"+aX)}}};this.clearTrigger=function(aW){if(aE&&B.isFullStr(aW)){S("trigger:"+aW+":none")}};this.refreshPlayer=function(){if(aE){S("player:refresh")}};this.resetPlayer=function(){if(aE){S("player:reset")}};this.cancelResume=function(){if(aE){S("resume:cancel")}};this.requestData=function(aW,aY,aX){if(aE){if(B.isFullStr(aW)){if(aX==null){aX={}}aX.requestId=am(aY);aX.dataId=aW;S("player:commit:"+aW,aX)}else{U(aY,{error:"Data ID is invalid: '"+aW+"'"})}}else{U(aY,{error:"Plugin not ready"})}};this.requestInteractionResponse=function(aW,aY,aX){if(B.isFullStr(aW)){this.requestData("response:request:interaction:"+aW,aY,aX!=null?{requestData:aX}:null)
}else{U(aY,{error:"Data ID is invalid: '"+aW+"'"})}};this.validateSettings=function(aW){C.invalidateSettings();this.requestData("info",function(aX){C.validateSettings(aX);U(aW,aX)})};this.onValidatedSettings=function(aW){if(!C.areSettingsValidated()&&!aD){aD=true;this.validateSettings(function(){aD=false})}C.onValidatedSettings(aW)};this.triggerEvent=function(aW,aX){if(aE&&B.isFullStr(aW)){S("event:"+aW,aX)}};this.setupSteam=function(aW){ab(aW)};this.createSteam=function(aW){return ak(aW)};this.resolveToken=function(aW,aX){return J(aW,aX)};this.transformString=function(aW,aX){return aw(aW,aX)};this.normalizeString=function(aW,aX){return Z(aW,aX)};this.transformStringAsync=function(aY,aZ,aX){var aW=aw(aY,aZ);if(B.isFullStr(aW)){this.requestData("string:transform:"+aW,function(a0){U(aX,{string:B.strFullCheck(a0.string,null)})})}else{U(aX,{string:null})}};this.normalizeStringAsync=function(aX,aY,aW){if(B.isFullStr(aX)){this.requestData("string:normalize:"+aX,function(aZ){U(aW,{string:Z(aZ.string,aY)})
})}else{U(aW,{string:null})}};this.init=function(){if(!ai){aC();ax();ac()}};this.commit=function(){if(aE){R();aO()}};this.isInitialized=function(){return ai};this.isReady=function(){return aE};this.startPlayback=function(aW){if(aE){aI(l.PLAYING,true);R();aO();if(aW===true){aS()}}};this.stopPlayback=function(){if(aE){this.setEnded(true);R();Y()}};this.cancelPlayback=function(){if(aE){S("player:eject")}};this.startLoading=function(){if(aE){av.start(function(){O=true;S("player:busy:start:loading")})}};this.stopLoading=function(){if(aE){av.stop();if(O){O=false;S("player:busy:stop:loading")}}}};var c=new function(){var K="interactionPlugin";var ai="irq";var ab=10;var az=30000;var V=new z("j3RZ!=Y$M5TZ#JPem'P1i(Tf?X3WcGlyCqNeXRbp02HL]I~r!IfO(pvxQ7At%9yq.5=)wm@0o?Js[sUbUH416uhd;_S/Qr,w7vW]jBgND;GazhCL+D%z~8ni+n-B_E-KK42tl[OAV@*E.Ya6$V,&kF)o&Mg98#'ucx/dk*SF");var P=null;var an=false;var ak=new u(1000);var ar=false;var ac=false;var X=null;var aq=false;var aw=null;var W=function(aD){P=new z(aD)};
var ad=function(aD){if(ar){if(aD=="local"){return P!=null?P.createSteam():null}return V.createSteam()}return null};var I=function(aD,aE){if(ar){if(aE=="local"){return P!=null?P.resolveToken(aD):null}return V.resolveToken(aD)}return null};var al=function(aD,aE){if(ar){if(aE=="local"){return P!=null?P.transformString(aD):null}else{if(aE=="global"){return V.transformString(aD)}else{if(aE=="shared"){return t.transformString(P!=null?P.transformString(aD):aD)}}}return V.transformString(P!=null?P.transformString(aD):aD)}return null};var U=function(aD,aE){if(ar){if(aE=="local"){return P!=null?P.normalizeString(aD):null}else{if(aE=="global"){return V.normalizeString(aD)}else{if(aE=="shared"){return P!=null?P.normalizeString(t.normalizeString(aD)):t.normalizeString(aD)}}}return P!=null?P.normalizeString(V.normalizeString(aD)):V.normalizeString(aD)}return null};var aA=0;var av={};var ae=function(aF){aA++;var aD=ai+aA+"_"+q.getTimestamp();var aE={timeout:new u(az),callback:aF};av[aD]=aE;aE.timeout.start(function(){ag(aD,{error:"Request timed out"})
});return aD};var ag=function(aD,aF){if(aD!=null){var aE=av[aD];if(aE!=null){aE.timeout.stop();delete av[aD];R(aE.callback,aF)}}};var R=function(aF,aD){if(typeof aF=="function"){try{aF(aD)}catch(aE){Z("Callback error",aE)}}};var Q=function(aD,aE){if(B.isFullStr(aD)){S({action:aD,data:aE!=null?aE:null})}};var am=function(aE,aD){if(B.isFullStr(aE)){if(aD!==false){Q("logger:debug:"+aE)}}};var aj=function(aE,aD,aF){if(B.isFullStr(aE)){if(aD!==false){Q("logger:success:"+aE,{show:aF!==false})}else{if(aF!==false){Q("success:"+aE)}}}};var aC=function(aE,aD,aF){if(B.isFullStr(aE)){if(aD!==false){Q("logger:info:"+aE,{show:aF!==false})}else{if(aF!==false){Q("info:"+aE)}}}};var O=function(aE,aD,aF){if(B.isFullStr(aE)){if(aD!==false){Q("logger:warn:"+aE,{show:aF!==false})}else{if(aF!==false){Q("warn:"+aE)}}}};var aa=function(aE,aD,aF){if(B.isFullStr(aE)){if(aD!==false){Q("logger:error:"+aE,{show:aF!==false})}else{if(aF!==false){Q("error:"+aE)}}}};var M=function(aD,aE){if(B.isFullStr(aD)&&aE!=null){if(typeof aE=="object"){Q(aD+":data",aE)
}else{Q(aD+":"+aE)}}};var au=function(aD){M("menu",aD)};var T=function(aD){M("content",aD)};var af=function(aD){M("panel",aD)};var Z=function(aD,aE){if(aD!=null&&aE!=null){if(aE.name!=null&&aE.message!=null){aa("Interaction: "+aD+": "+aE.name+": "+aE.message)}else{aa("Interaction: "+aD+": "+aE)}}};var ao=function(aD,aE){Q("response:"+aD,aE)};var Y=function(aD,aE){ag(aD,aE)};var H=function(aE,aD,aG){if(typeof X.handleRequest=="function"){try{X.handleRequest(aD,aG,function(aH){ao(aE,aH)})}catch(aF){Z("Handle request failed",aF);ao(aE)}}else{ao(aE)}};var aB=function(aE){if(ar&&aE!=null&&X!=null){if(typeof X.handleEvent=="function"){try{X.handleEvent(aE)}catch(aD){Z("Handle event failed",aD)}}}};var ah=function(aH){if(ar&&aH!=null&&X!=null){if(B.isFullStr(aH.requestId)&&B.isFullStr(aH.dataId)){H(aH.requestId,aH.dataId,aH.data)}else{if(aH.data!=null&&B.isFullStr(aH.data.requestId)&&B.isFullStr(aH.data.dataId)){var aE={};var aG=aH.data.dataId;var aD=aG.indexOf(":");if(aD>0){aG=aG.substr(0,aD)
}aE[aG]=aH[aG]!=null?aH[aG]:null;aE.error=B.strFullCheck(aH.error,null);Y(aH.data.requestId,aE)}else{if(typeof X.handleData=="function"){try{X.handleData(aH)}catch(aF){Z("Handle data failed",aF)}}}}}};var ay=function(aD){aw=aD!=null&&aD.length>0?aD:null};var N=function(){if(aw!=null&&aw.length>0){for(var aD=0;aD<aw.length;aD++){ah(aw[aD])}}aw=null};var ax=function(aD){if(ar&&aD!=null){if(aw==null){aw=[]}if(aw.length>=ab){aw.shift()}aw.push(aD)}};var L=function(aD){if(!ac||aD===true){ac=true;if(X!=null&&typeof X.init=="function"){try{X.init()}catch(aE){Z("Call init failed",aE)}}}};var at=function(aD){if(!ar||aD===true){ar=true;if(X!=null&&typeof X.ready=="function"){try{X.ready()}catch(aE){Z("Call ready failed",aE)}}if(X!=null){N()}}};var ap=function(){ar=false;window.addEventListener("message",function(aD){J(aD.data)},false);Q("interaction:init")};var J=function(aD){if(ac&&aD!=null&&aD.type===K){if(aD.init===1&&ar){return}if(aD.init===1){ay(aD.data);at()}else{if(aD.data!=null){if(B.isFullStr(aD.data.event)){aB(aD.data)
}else{if(X!=null){ah(aD.data)}else{ax(aD.data)}}}}}};var S=function(aE){if(window.parent!=null&&aE!=null){aE.type=K;aE.sender="plugin";aE.target="app";try{window.parent.postMessage(aE,"*")}catch(aD){if(window.console!=null){console.error("Post message failed",aD)}}}};this.setupHandler=function(aD){X=aD;if(ac){L(true)}if(ar){at(true)}};this.setLoadingDelay=function(aD){ak.delay=B.strToNum(aD,ak.delay)};this.getLoadingDelay=function(){return ak.delay};this.executeAction=function(aD,aE){if(ar){Q(aD,aE)}};this.debug=function(aE,aD){if(ar){am(aE,aD)}};this.success=function(aE,aD,aF){if(ar){aj(aE,aD,aF)}};this.info=function(aE,aD,aF){if(ar){aC(aE,aD,aF)}};this.warn=function(aE,aD,aF){if(ar){O(aE,aD,aF)}};this.error=function(aE,aD,aF){if(ar){aa(aE,aD,aF)}};this.showMenu=function(aD){if(ar){au(aD)}};this.showContent=function(aD){if(ar){T(aD)}};this.showPanel=function(aD){if(ar){af(aD)}};this.requestData=function(aD,aF,aE){if(ar){if(B.isFullStr(aD)){if(aE==null){aE={}}aE.requestId=ae(aF);aE.dataId=aD;
Q("interaction:commit:"+aD,aE)}else{R(aF,{error:"Data ID is invalid: '"+aD+"'"})}}else{R(aF,{error:"Plugin not ready"})}};this.requestPlayerResponse=function(aD,aF,aE){if(B.isFullStr(aD)){this.requestData("response:request:player:"+aD,aF,aE!=null?{requestData:aE}:null)}else{R(aF,{error:"Data ID is invalid: '"+aD+"'"})}};this.validateSettings=function(aD){C.invalidateSettings();this.requestData("info",function(aE){C.validateSettings(aE);R(aD,aE)})};this.onValidatedSettings=function(aD){if(!C.areSettingsValidated()&&!aq){aq=true;this.validateSettings(function(){aq=false})}C.onValidatedSettings(aD)};this.setupSteam=function(aD){W(aD)};this.createSteam=function(aD){return ad(aD)};this.resolveToken=function(aD,aE){return I(aD,aE)};this.transformString=function(aD,aE){return al(aD,aE)};this.normalizeString=function(aD,aE){return U(aD,aE)};this.transformStringAsync=function(aF,aG,aE){var aD=al(aF,aG);if(B.isFullStr(aD)){this.requestData("string:transform:"+aD,function(aH){R(aE,{string:B.strFullCheck(aH.string,null)})
})}else{R(aE,{string:null})}};this.normalizeStringAsync=function(aE,aF,aD){if(B.isFullStr(aE)){this.requestData("string:normalize:"+aE,function(aG){R(aD,{string:U(aG.string,aF)})})}else{R(aD,{string:null})}};this.init=function(){if(!ac){ap();L()}};this.isInitialized=function(){return ac};this.isReady=function(){return ar};this.startLoading=function(){if(ar){ak.start(function(){an=true;Q("interaction:busy:start:loading")})}};this.stopLoading=function(){if(ar){ak.stop();if(an){an=false;Q("interaction:busy:stop:loading")}}}};return{Settings:k,Styles:E,Tools:B,DateTools:q,DateFormatter:y,PropertyTools:d,VideoState:l,Action:x,Cookies:w,Storage:p,UrlParams:f,Options:b,Observers:h,EventObservers:m,Queue:G,Worker:e,Delay:u,Click:s,Ajax:r,LogLevel:o,Logger:n,Dictionary:F,Clock:a,Services:D,DataLoader:i,DataService:A,BlobService:v,RequestService:g,PluginTools:C,VideoPlugin:j,InteractionPlugin:c}}));